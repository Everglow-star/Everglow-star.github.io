<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Â•ãÊñóÁöÑüêñ" type="application/atom+xml" />






<meta name="description" content="ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºüRedis Êèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÁöÑÊï∞ÊçÆÂ≠òÂèñÂäüËÉΩÔºåÊâÄ‰ª•ÂπøÊ≥õÂ∫îÁî®Âú®ÁºìÂ≠òÂú∫ÊôØ‰∏≠ÔºåÊó¢ËÉΩÊúâÊïàÂú∞ÊèêÂçá‰∏öÂä°Â∫îÁî®ÁöÑÂìçÂ∫îÈÄüÂ∫¶ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÊääÈ´òÂπ∂ÂèëÂ§ßÂéãÂäõÁöÑËØ∑Ê±ÇÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìÂ±Ç„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú Redis ÂÅöÁºìÂ≠òÊó∂Âá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåÊØîÂ¶ÇËØ¥ÁºìÂ≠òÂ§±ÊïàÔºåÈÇ£‰πàÔºåÂ§ßÈáèËØ∑Ê±ÇÂ∞±‰ºöÁõ¥Êé•ÁßØÂéãÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÂøÖÁÑ∂‰ºöÁªôÊï∞ÊçÆÂ∫ìÂ∏¶Êù•Â∑®Â§ßÁöÑÂéãÂäõÔºåÂæàÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫ÊàñÊòØÊïÖÈöúÔºåÈÇ£‰πàÔºå‰∏öÂä°Â∫îÁî®Â∞±Ê≤°ÊúâÂäûÊ≥ïÂ≠òÂèñÊï∞ÊçÆ„ÄÅÂìçÂ∫îÁî®Êà∑ËØ∑Ê±Ç‰∫Ü„ÄÇËøôÁßçÁîü‰∫ß‰∫ã">
<meta property="og:type" content="article">
<meta property="og:title" content="RedisÁºìÂ≠ò">
<meta property="og:url" content="http://example.com/2021/07/12/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E7%BC%93%E5%AD%98%E7%9B%B8%E5%85%B3/index.html">
<meta property="og:site_name" content="Â•ãÊñóÁöÑüêñ">
<meta property="og:description" content="ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºüRedis Êèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÁöÑÊï∞ÊçÆÂ≠òÂèñÂäüËÉΩÔºåÊâÄ‰ª•ÂπøÊ≥õÂ∫îÁî®Âú®ÁºìÂ≠òÂú∫ÊôØ‰∏≠ÔºåÊó¢ËÉΩÊúâÊïàÂú∞ÊèêÂçá‰∏öÂä°Â∫îÁî®ÁöÑÂìçÂ∫îÈÄüÂ∫¶ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÊääÈ´òÂπ∂ÂèëÂ§ßÂéãÂäõÁöÑËØ∑Ê±ÇÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìÂ±Ç„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú Redis ÂÅöÁºìÂ≠òÊó∂Âá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåÊØîÂ¶ÇËØ¥ÁºìÂ≠òÂ§±ÊïàÔºåÈÇ£‰πàÔºåÂ§ßÈáèËØ∑Ê±ÇÂ∞±‰ºöÁõ¥Êé•ÁßØÂéãÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÂøÖÁÑ∂‰ºöÁªôÊï∞ÊçÆÂ∫ìÂ∏¶Êù•Â∑®Â§ßÁöÑÂéãÂäõÔºåÂæàÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫ÊàñÊòØÊïÖÈöúÔºåÈÇ£‰πàÔºå‰∏öÂä°Â∫îÁî®Â∞±Ê≤°ÊúâÂäûÊ≥ïÂ≠òÂèñÊï∞ÊçÆ„ÄÅÂìçÂ∫îÁî®Êà∑ËØ∑Ê±Ç‰∫Ü„ÄÇËøôÁßçÁîü‰∫ß‰∫ã">
<meta property="og:locale">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/ac/9c/ac80f6e1714f3e1e8eabcfd8da3d689c.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/6b/3d/6b0b489ec0c1c5049c8df84d77fa243d.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/46/cd/464ea24a098c87b9d292cf61a2b2fecd.jpg">
<meta property="og:image" content="http://lihuitao-picture.oss-cn-beijing.aliyuncs.com/img/009d055bb91d42c28b9316c649f87f66.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/98/e4/986ed247a4353524f387f0bbf76586e4.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/04/f6/04bdd13b760016ec3b30f4b02e133df6.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/95/5e/953e48912yy9515abf9db588d447cc5e.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/15/dc/15ae0147459ecc46436f35a0f3e5yydc.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/b3/ae/b305a6355c9da145e4d1f86d23f4f0ae.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/76/77/767b4b2b1bafffd9a4b6368f05930a77.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/2c/ac/2c376b536aff9d14d8606499f401cdac.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/74/ab/74a66b9ce185d7c5b53986fc522dfcab.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/85/12/857c2b5449d9a04de6fe93yy1e355c12.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/a1/0b/a1c66ee114yyc9f37f2a35f21b46010b.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/11/6f/11ae5e620c63de76448bc658fe6a496f.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/74/2e/74bb1aa4b2213e3ff29e2ee701e8f72e.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/4a/a8/4ab3be5ba24cf172879e6b2cff649ca8.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/17/b5/17d39f6233c3332161c588b42eccaeb5.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/d5/54/d5a0928e1d97cae2f4a4fb5b93e5c854.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/d4/4b/d4c77da4yy7d6e34aca460642923ab4b.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/46/2e/46c49dd155665579c5204a66da8ffc2e.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/b5/e1/b5bd931239be18bef24b2ef36c70e9e1.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/76/75/76909482d30097da81273f7bda18b275.jpg">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/8e/3e/8eafa57112b01ba0yyf93034ca109f3e.jpg">
<meta property="article:published_time" content="2021-07-11T16:00:00.000Z">
<meta property="article:modified_time" content="2021-07-12T08:52:21.894Z">
<meta property="article:author" content="Ëã±‰º¶82Âπ¥Èõ™Á¢ß">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static001.geekbang.org/resource/image/ac/9c/ac80f6e1714f3e1e8eabcfd8da3d689c.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Âçö‰∏ª'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2021/07/12/Êï∞ÊçÆÂ∫ì/RedisÁºìÂ≠òÁõ∏ÂÖ≥/"/>





  <title>RedisÁºìÂ≠ò | Â•ãÊñóÁöÑüêñ</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Â•ãÊñóÁöÑüêñ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%E9%A6%96%E9%A1%B5" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            È¶ñÈ°µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20%20%20%20%20%20%20%20%20%20/%E5%BD%92%E6%A1%A3" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            ÂΩíÊ°£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20%20%20%20%20%20%20%20%20%20%20/%E5%88%86%E7%B1%BB" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            ÂàÜÁ±ª
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%E6%A0%87%E7%AD%BE" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Ê†áÁ≠æ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%E5%85%B3%E4%BA%8E" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            ÂÖ≥‰∫é
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            ÊêúÁ¥¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="ÊêúÁ¥¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/12/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E7%BC%93%E5%AD%98%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Â•ãÊñóÁöÑüêñ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">RedisÁºìÂ≠ò</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
              
              <time title="ÂàõÂª∫‰∫é" itemprop="dateCreated datePublished" datetime="2021-07-12T00:00:00+08:00">
                2021-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">Êï∞ÊçÆÂ∫ì</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü"><a href="#ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü" class="headerlink" title="ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü"></a>ÊóÅË∑ØÁºìÂ≠òÔºö<code>Redis</code>ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü</h1><p><code>Redis</code> Êèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÁöÑÊï∞ÊçÆÂ≠òÂèñÂäüËÉΩÔºåÊâÄ‰ª•ÂπøÊ≥õÂ∫îÁî®Âú®ÁºìÂ≠òÂú∫ÊôØ‰∏≠ÔºåÊó¢ËÉΩÊúâÊïàÂú∞ÊèêÂçá‰∏öÂä°Â∫îÁî®ÁöÑÂìçÂ∫îÈÄüÂ∫¶ÔºåËøòÂèØ‰ª•ÈÅøÂÖçÊääÈ´òÂπ∂ÂèëÂ§ßÂéãÂäõÁöÑËØ∑Ê±ÇÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìÂ±Ç„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú <code>Redis</code> ÂÅöÁºìÂ≠òÊó∂Âá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåÊØîÂ¶ÇËØ¥ÁºìÂ≠òÂ§±ÊïàÔºåÈÇ£‰πàÔºåÂ§ßÈáèËØ∑Ê±ÇÂ∞±‰ºöÁõ¥Êé•ÁßØÂéãÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÂøÖÁÑ∂‰ºöÁªôÊï∞ÊçÆÂ∫ìÂ∏¶Êù•Â∑®Â§ßÁöÑÂéãÂäõÔºåÂæàÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂÆïÊú∫ÊàñÊòØÊïÖÈöúÔºåÈÇ£‰πàÔºå‰∏öÂä°Â∫îÁî®Â∞±Ê≤°ÊúâÂäûÊ≥ïÂ≠òÂèñÊï∞ÊçÆ„ÄÅÂìçÂ∫îÁî®Êà∑ËØ∑Ê±Ç‰∫Ü„ÄÇËøôÁßçÁîü‰∫ß‰∫ãÊïÖÔºåËÇØÂÆö‰∏çÊòØÊàë‰ª¨Â∏åÊúõÁúãÂà∞ÁöÑ„ÄÇ</p>
<p>Ê≠£Âõ†‰∏∫ <code>Redis</code> Áî®‰ΩúÁºìÂ≠òÁöÑÊôÆÈÅçÊÄß‰ª•ÂèäÂÆÉÂú®‰∏öÂä°Â∫îÁî®‰∏≠ÁöÑÈáçË¶Å‰ΩúÁî®ÔºåÊâÄ‰ª•ÔºåÊàë‰ª¨ÈúÄË¶ÅÁ≥ªÁªüÂú∞ÊéåÊè°ÁºìÂ≠òÁöÑ‰∏ÄÁ≥ªÂàóÂÜÖÂÆπÔºåÂåÖÊã¨Â∑•‰ΩúÂéüÁêÜ„ÄÅÊõøÊç¢Á≠ñÁï•„ÄÅÂºÇÂ∏∏Â§ÑÁêÜÂíåÊâ©Â±ïÊú∫Âà∂„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÊàë‰ª¨ÈúÄË¶ÅËß£ÂÜ≥Âõõ‰∏™ÂÖ≥ÈîÆÈóÆÈ¢òÔºö</p>
<ul>
<li><code>Redis</code> ÁºìÂ≠òÂÖ∑‰ΩìÊòØÊÄé‰πàÂ∑•‰ΩúÁöÑÔºü</li>
<li><code>Redis</code> ÁºìÂ≠òÂ¶ÇÊûúÊª°‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü</li>
<li>‰∏∫‰ªÄ‰πà‰ºöÊúâÁºìÂ≠ò‰∏ÄËá¥ÊÄß„ÄÅÁºìÂ≠òÁ©øÈÄè„ÄÅÁºìÂ≠òÈõ™Â¥©„ÄÅÁºìÂ≠òÂáªÁ©øÁ≠âÂºÇÂ∏∏ÔºåËØ•Â¶Ç‰ΩïÂ∫îÂØπÔºü</li>
<li><code>Redis</code> ÁöÑÂÜÖÂ≠òÊØïÁ´üÊúâÈôêÔºåÂ¶ÇÊûúÁî®Âø´ÈÄüÁöÑÂõ∫ÊÄÅÁ°¨ÁõòÊù•‰øùÂ≠òÊï∞ÊçÆÔºåÂèØ‰ª•Â¢ûÂä†ÁºìÂ≠òÁöÑÊï∞ÊçÆÈáèÔºåÈÇ£‰πàÔºå<code>Redis</code> ÁºìÂ≠òÂèØ‰ª•‰ΩøÁî®Âø´ÈÄüÂõ∫ÊÄÅÁ°¨ÁõòÂêóÔºü</li>
</ul>
<span id="more"></span>

<h2 id="ÁºìÂ≠òÁöÑÁâπÂæÅ"><a href="#ÁºìÂ≠òÁöÑÁâπÂæÅ" class="headerlink" title="ÁºìÂ≠òÁöÑÁâπÂæÅ"></a>ÁºìÂ≠òÁöÑÁâπÂæÅ</h2><p><strong>‰∏∫‰ªÄ‰πàÈúÄË¶ÅÁºìÂ≠òÔºü</strong></p>
<p>‰∏Ä‰∏™Á≥ªÁªü‰∏≠ÁöÑ‰∏çÂêåÂ±Ç‰πãÈó¥ÁöÑËÆøÈóÆÈÄüÂ∫¶‰∏ç‰∏ÄÊ†∑ÔºåÊâÄ‰ª•Êàë‰ª¨ÊâçÈúÄË¶ÅÁºìÂ≠òÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Êää‰∏Ä‰∫õÈúÄË¶ÅÈ¢ëÁπÅËÆøÈóÆÁöÑÊï∞ÊçÆÊîæÂú®ÁºìÂ≠ò‰∏≠Ôºå‰ª•Âä†Âø´ÂÆÉ‰ª¨ÁöÑËÆøÈóÆÈÄüÂ∫¶„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/ac/9c/ac80f6e1714f3e1e8eabcfd8da3d689c.jpg" alt="img" style="zoom:25%;" />

<p>Â¶ÇÊûúÊØèÊ¨° CPU Â§ÑÁêÜÊï∞ÊçÆÊó∂ÔºåÈÉΩË¶Å‰ªé ms Á∫ßÂà´ÁöÑÊÖ¢ÈÄüÁ£ÅÁõò‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçËøõË°åÂ§ÑÁêÜÔºåÈÇ£‰πàÔºåCPU Âè™ËÉΩÁ≠âÁ£ÅÁõòÁöÑÊï∞ÊçÆ‰º†ËæìÂÆåÊàê„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÈ´òÈÄüÁöÑ CPU Â∞±Ë¢´ÊÖ¢ÈÄüÁöÑÁ£ÅÁõòÊãñÁ¥Ø‰∫ÜÔºåÊï¥‰∏™ËÆ°ÁÆóÊú∫Á≥ªÁªüÁöÑËøêË°åÈÄüÂ∫¶‰ºöÂèòÂæóÈùûÂ∏∏ÊÖ¢„ÄÇ</p>
<p><strong>ÁºìÂ≠òÁâπÂæÅÔºö</strong></p>
<ul>
<li><p>ÁºìÂ≠òÁöÑÁ¨¨‰∏Ä‰∏™ÁâπÂæÅÔºöÂú®‰∏Ä‰∏™Â±ÇÊ¨°ÂåñÁöÑÁ≥ªÁªü‰∏≠ÔºåÁºìÂ≠ò‰∏ÄÂÆöÊòØ‰∏Ä‰∏™Âø´ÈÄüÂ≠êÁ≥ªÁªüÔºåÊï∞ÊçÆÂ≠òÂú®ÁºìÂ≠ò‰∏≠Êó∂ÔºåËÉΩÈÅøÂÖçÊØèÊ¨°‰ªéÊÖ¢ÈÄüÂ≠êÁ≥ªÁªü‰∏≠Â≠òÂèñÊï∞ÊçÆ„ÄÇÂØπÂ∫îÂà∞‰∫íËÅîÁΩëÂ∫îÁî®Êù•ËØ¥Ôºå<code>Redis</code> Â∞±ÊòØÂø´ÈÄüÂ≠êÁ≥ªÁªüÔºåËÄåÊï∞ÊçÆÂ∫ìÂ∞±ÊòØÊÖ¢ÈÄüÂ≠êÁ≥ªÁªü‰∫Ü„ÄÇ</p>
</li>
<li><p>Á¨¨‰∫å‰∏™ÁâπÂæÅÔºöÁºìÂ≠òÁ≥ªÁªüÁöÑÂÆπÈáèÂ§ßÂ∞èÊÄªÊòØÂ∞è‰∫éÂêéÁ´ØÊÖ¢ÈÄüÁ≥ªÁªüÁöÑÔºåÊàë‰ª¨‰∏çÂèØËÉΩÊääÊâÄÊúâÊï∞ÊçÆÈÉΩÊîæÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠„ÄÇ</p>
</li>
</ul>
<p>ÁºìÂ≠òÂíåÂêéÁ´ØÊÖ¢ÈÄüÁ≥ªÁªü‰πãÈó¥ÔºåÂøÖÁÑ∂Â≠òÂú®Êï∞ÊçÆÂÜôÂõûÂíåÂÜçËØªÂèñÁöÑ‰∫§‰∫íËøáÁ®ã„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÈúÄË¶ÅÊåâ‰∏ÄÂÆöËßÑÂàôÊ∑òÊ±∞Âá∫ÂéªÔºåÂÜôÂõûÂêéÁ´ØÁ≥ªÁªüÔºåËÄåÊñ∞ÁöÑÊï∞ÊçÆÂèàË¶Å‰ªéÂêéÁ´ØÁ≥ªÁªü‰∏≠ËØªÂèñËøõÊù•ÔºåÂÜôÂÖ•ÁºìÂ≠ò„ÄÇ</p>
<h2 id="Redis-ÁºìÂ≠òÂ§ÑÁêÜËØ∑Ê±ÇÁöÑ‰∏§ÁßçÊÉÖÂÜµ"><a href="#Redis-ÁºìÂ≠òÂ§ÑÁêÜËØ∑Ê±ÇÁöÑ‰∏§ÁßçÊÉÖÂÜµ" class="headerlink" title="Redis ÁºìÂ≠òÂ§ÑÁêÜËØ∑Ê±ÇÁöÑ‰∏§ÁßçÊÉÖÂÜµ"></a><code>Redis</code> ÁºìÂ≠òÂ§ÑÁêÜËØ∑Ê±ÇÁöÑ‰∏§ÁßçÊÉÖÂÜµ</h2><p>Êää <code>Redis</code> Áî®‰ΩúÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨‰ºöÊää <code>Redis</code> ÈÉ®ÁΩ≤Âú®Êï∞ÊçÆÂ∫ìÁöÑÂâçÁ´ØÔºå‰∏öÂä°Â∫îÁî®Âú®ËÆøÈóÆÊï∞ÊçÆÊó∂Ôºå‰ºöÂÖàÊü•ËØ¢ <code>Redis</code> ‰∏≠ÊòØÂê¶‰øùÂ≠ò‰∫ÜÁõ∏Â∫îÁöÑÊï∞ÊçÆ„ÄÇÊ≠§Êó∂ÔºåÊ†πÊçÆÊï∞ÊçÆÊòØÂê¶Â≠òÂú®ÁºìÂ≠ò‰∏≠Ôºå‰ºöÊúâ‰∏§ÁßçÊÉÖÂÜµ„ÄÇ</p>
<ul>
<li>ÁºìÂ≠òÂëΩ‰∏≠Ôºö<code>Redis</code> ‰∏≠ÊúâÁõ∏Â∫îÊï∞ÊçÆÔºåÂ∞±Áõ¥Êé•ËØªÂèñ <code>Redis</code>ÔºåÊÄßËÉΩÈùûÂ∏∏Âø´„ÄÇ</li>
<li>ÁºìÂ≠òÁº∫Â§±Ôºö<code>Redis</code> ‰∏≠Ê≤°Êúâ‰øùÂ≠òÁõ∏Â∫îÊï∞ÊçÆÔºåÂ∞±‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÊÄßËÉΩÂ∞±‰ºöÂèòÊÖ¢„ÄÇËÄå‰∏îÔºå‰∏ÄÊó¶ÂèëÁîüÁºìÂ≠òÁº∫Â§±Ôºå‰∏∫‰∫ÜËÆ©ÂêéÁª≠ËØ∑Ê±ÇËÉΩ‰ªéÁºìÂ≠ò‰∏≠ËØªÂèñÂà∞Êï∞ÊçÆÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÁº∫Â§±ÁöÑÊï∞ÊçÆÂÜôÂÖ• <code>Redis</code>ÔºåËøô‰∏™ËøáÁ®ãÂè´‰ΩúÁºìÂ≠òÊõ¥Êñ∞„ÄÇÁºìÂ≠òÊõ¥Êñ∞Êìç‰Ωú‰ºöÊ∂âÂèäÂà∞‰øùËØÅÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò</li>
</ul>
<img src="https://static001.geekbang.org/resource/image/6b/3d/6b0b489ec0c1c5049c8df84d77fa243d.jpg" alt="img" style="zoom: 20%;" />

<p>‰ΩøÁî® <code>Redis</code> ÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨Âü∫Êú¨Êúâ‰∏â‰∏™Êìç‰ΩúÔºö</p>
<ul>
<li>Â∫îÁî®ËØªÂèñÊï∞ÊçÆÊó∂ÔºåÈúÄË¶ÅÂÖàËØªÂèñ <code>Redis</code>Ôºõ</li>
<li>ÂèëÁîüÁºìÂ≠òÁº∫Â§±Êó∂ÔºåÈúÄË¶Å‰ªéÊï∞ÊçÆÂ∫ìËØªÂèñÊï∞ÊçÆÔºõ</li>
<li>ÂèëÁîüÁºìÂ≠òÁº∫Â§±Êó∂ÔºåËøòÈúÄË¶ÅÊõ¥Êñ∞ÁºìÂ≠ò„ÄÇ+ </li>
</ul>
<h2 id="Redis-‰Ωú‰∏∫ÊóÅË∑ØÁºìÂ≠òÁöÑ‰ΩøÁî®Êìç‰Ωú"><a href="#Redis-‰Ωú‰∏∫ÊóÅË∑ØÁºìÂ≠òÁöÑ‰ΩøÁî®Êìç‰Ωú" class="headerlink" title="Redis ‰Ωú‰∏∫ÊóÅË∑ØÁºìÂ≠òÁöÑ‰ΩøÁî®Êìç‰Ωú"></a><code>Redis</code> ‰Ωú‰∏∫ÊóÅË∑ØÁºìÂ≠òÁöÑ‰ΩøÁî®Êìç‰Ωú</h2><p><code>Redis</code> ÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÁ≥ªÁªüËΩØ‰ª∂ÔºåÂíå‰∏öÂä°Â∫îÁî®Á®ãÂ∫èÊòØ‰∏§‰∏™ËΩØ‰ª∂ÔºåÂΩìÊàë‰ª¨ÈÉ®ÁΩ≤‰∫Ü <code>Redis</code> ÂÆû‰æãÂêéÔºåÂÆÉÂè™‰ºöË¢´Âä®Âú∞Á≠âÂæÖÂÆ¢Êà∑Á´ØÂèëÈÄÅËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂÜçËøõË°åÂ§ÑÁêÜ„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÊÉ≥Ë¶Å‰ΩøÁî® <code>Redis</code> ÁºìÂ≠òÔºåÊàë‰ª¨Â∞±Ë¶ÅÂú®Á®ãÂ∫è‰∏≠Â¢ûÂä†Áõ∏Â∫îÁöÑÁºìÂ≠òÊìç‰Ωú‰ª£Á†Å„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨‰πüÊää <code>Redis</code> Áß∞‰∏∫ÊóÅË∑ØÁºìÂ≠òÔºå‰πüÂ∞±ÊòØËØ¥ÔºåËØªÂèñÁºìÂ≠ò„ÄÅËØªÂèñÊï∞ÊçÆÂ∫ìÂíåÊõ¥Êñ∞ÁºìÂ≠òÁöÑÊìç‰ΩúÈÉΩÈúÄË¶ÅÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠Êù•ÂÆåÊàê„ÄÇ</p>
<p>‰ΩøÁî® <code>Redis</code> ÁºìÂ≠òÊó∂ÔºåÂÖ∑‰ΩìÊù•ËØ¥ÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠Â¢ûÂä†‰∏âÊñπÈù¢ÁöÑ‰ª£Á†ÅÔºö</p>
<ul>
<li>ÂΩìÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅËØªÂèñÊï∞ÊçÆÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®‰ª£Á†Å‰∏≠ÊòæÂºèË∞ÉÁî® <code>Redis</code> ÁöÑ GET Êìç‰ΩúÊé•Âè£ÔºåËøõË°åÊü•ËØ¢Ôºõ</li>
<li>Â¶ÇÊûúÁºìÂ≠òÁº∫Â§±‰∫ÜÔºåÂ∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÂÜçÂíåÊï∞ÊçÆÂ∫ìËøûÊé•Ôºå‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÔºõ</li>
<li>ÂΩìÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÈúÄË¶ÅÊõ¥Êñ∞Êó∂ÔºåÊàë‰ª¨‰πüÈúÄË¶ÅÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠ÊòæÂºèÂú∞Ë∞ÉÁî® SET Êìç‰ΩúÊé•Âè£ÔºåÊääÊõ¥Êñ∞ÁöÑÊï∞ÊçÆÂÜôÂÖ•ÁºìÂ≠ò„ÄÇ</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">String cacheKey = ‚Äúproductid_11010003‚Äù;</span><br><span class="line">String cacheValue = redisCache.<span class="built_in">get</span>(cacheKey)Ôºõ</span><br><span class="line"><span class="comment">//ÁºìÂ≠òÂëΩ‰∏≠</span></span><br><span class="line"><span class="keyword">if</span> ( cacheValue != <span class="literal">NULL</span>)</span><br><span class="line">   <span class="keyword">return</span> cacheValue;</span><br><span class="line"><span class="comment">//ÁºìÂ≠òÁº∫Â§±</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   cacheValue = <span class="built_in">getProductFromDB</span>();</span><br><span class="line">   redisCache.<span class="built_in">put</span>(cacheValue)  <span class="comment">//ÁºìÂ≠òÊõ¥Êñ∞</span></span><br></pre></td></tr></table></figure>

<p>ÂèØ‰ª•ÁúãÂà∞Ôºå‰∏∫‰∫Ü‰ΩøÁî®ÁºìÂ≠òÔºåWeb Â∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÊúâ‰∏Ä‰∏™Ë°®Á§∫ÁºìÂ≠òÁ≥ªÁªüÁöÑÂÆû‰æãÂØπË±° <code>redisCache</code>ÔºåËøòÈúÄË¶Å‰∏ªÂä®Ë∞ÉÁî® <code>Redis</code> ÁöÑ GET Êé•Âè£ÔºåÂπ∂‰∏îË¶ÅÂ§ÑÁêÜÁºìÂ≠òÂëΩ‰∏≠ÂíåÁºìÂ≠òÁº∫Â§±Êó∂ÁöÑÈÄªËæëÔºå‰æãÂ¶ÇÂú®ÁºìÂ≠òÁº∫Â§±Êó∂ÔºåÈúÄË¶ÅÊõ¥Êñ∞ÁºìÂ≠ò„ÄÇ</p>
<p>Âú®‰ΩøÁî®ÊóÅË∑ØÁºìÂ≠òÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠Â¢ûÂä†Êìç‰Ωú‰ª£Á†ÅÔºåÂ¢ûÂä†‰∫Ü‰ΩøÁî® <code>Redis</code> ÁºìÂ≠òÁöÑÈ¢ùÂ§ñÂ∑•‰ΩúÈáèÔºå‰ΩÜÊòØÔºå‰πüÊ≠£Âõ†‰∏∫ <code>Redis</code> ÊòØÊóÅË∑ØÁºìÂ≠òÔºåÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÁ≥ªÁªüÔºåÊàë‰ª¨ÂèØ‰ª•ÂçïÁã¨ÂØπ <code>Redis</code> ÁºìÂ≠òËøõË°åÊâ©ÂÆπÊàñÊÄßËÉΩ‰ºòÂåñ„ÄÇËÄå‰∏îÔºåÂè™Ë¶Å‰øùÊåÅÊìç‰ΩúÊé•Âè£‰∏çÂèòÔºåÊàë‰ª¨Âú®Â∫îÁî®Á®ãÂ∫è‰∏≠Â¢ûÂä†ÁöÑ‰ª£Á†ÅÂ∞±‰∏çÁî®ÂÜç‰øÆÊîπ‰∫Ü„ÄÇ</p>
<h2 id="ÁºìÂ≠òÁöÑÁ±ªÂûã"><a href="#ÁºìÂ≠òÁöÑÁ±ªÂûã" class="headerlink" title="ÁºìÂ≠òÁöÑÁ±ªÂûã"></a>ÁºìÂ≠òÁöÑÁ±ªÂûã</h2><p>ÊåâÁÖß <code>Redis</code> ÁºìÂ≠òÊòØÂê¶Êé•ÂèóÂÜôËØ∑Ê±ÇÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÂàÜÊàêÂè™ËØªÁºìÂ≠òÂíåËØªÂÜôÁºìÂ≠ò„ÄÇÂÖàÊù•‰∫ÜËß£‰∏ãÂè™ËØªÁºìÂ≠ò„ÄÇ</p>
<h3 id="Âè™ËØªÁºìÂ≠ò"><a href="#Âè™ËØªÁºìÂ≠ò" class="headerlink" title="Âè™ËØªÁºìÂ≠ò"></a>Âè™ËØªÁºìÂ≠ò</h3><p>ÂΩì <code>Redis</code> Áî®‰ΩúÂè™ËØªÁºìÂ≠òÊó∂ÔºåÂ∫îÁî®Ë¶ÅËØªÂèñÊï∞ÊçÆÁöÑËØùÔºå‰ºöÂÖàË∞ÉÁî® <code>Redis</code> GET Êé•Âè£ÔºåÊü•ËØ¢Êï∞ÊçÆÊòØÂê¶Â≠òÂú®„ÄÇËÄåÊâÄÊúâÁöÑÊï∞ÊçÆÂÜôËØ∑Ê±ÇÔºå‰ºöÁõ¥Êé•ÂèëÂæÄÂêéÁ´ØÁöÑÊï∞ÊçÆÂ∫ìÔºåÂú®Êï∞ÊçÆÂ∫ì‰∏≠Â¢ûÂà†Êîπ„ÄÇÂØπ‰∫éÂà†ÊîπÁöÑÊï∞ÊçÆÊù•ËØ¥ÔºåÂ¶ÇÊûú <code>Redis</code> Â∑≤ÁªèÁºìÂ≠ò‰∫ÜÁõ∏Â∫îÁöÑÊï∞ÊçÆÔºåÂ∫îÁî®ÈúÄË¶ÅÊääËøô‰∫õÁºìÂ≠òÁöÑÊï∞ÊçÆÂà†Èô§Ôºå<code>Redis</code> ‰∏≠Â∞±Ê≤°ÊúâËøô‰∫õÊï∞ÊçÆ‰∫Ü„ÄÇ</p>
<p>ÂΩìÂ∫îÁî®ÂÜçÊ¨°ËØªÂèñËøô‰∫õÊï∞ÊçÆÊó∂Ôºå‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±ÔºåÂ∫îÁî®‰ºöÊääËøô‰∫õÊï∞ÊçÆ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂá∫Êù•ÔºåÂπ∂ÂÜôÂà∞ÁºìÂ≠ò‰∏≠„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåËøô‰∫õÊï∞ÊçÆÂêéÁª≠ÂÜçË¢´ËØªÂèñÊó∂ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠Ëé∑Âèñ‰∫ÜÔºåËÉΩËµ∑Âà∞Âä†ÈÄüËÆøÈóÆÁöÑÊïàÊûú„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/46/cd/464ea24a098c87b9d292cf61a2b2fecd.jpg" alt="img" style="zoom:20%;" />

<p>Âè™ËØªÁºìÂ≠òÁõ¥Êé•Âú®Êï∞ÊçÆÂ∫ì‰∏≠Êõ¥Êñ∞Êï∞ÊçÆÁöÑÂ•ΩÂ§ÑÊòØÔºåÊâÄÊúâÊúÄÊñ∞ÁöÑÊï∞ÊçÆÈÉΩÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåËÄåÊï∞ÊçÆÂ∫ìÊòØÊèê‰æõÊï∞ÊçÆÂèØÈù†ÊÄß‰øùÈöúÁöÑÔºåËøô‰∫õÊï∞ÊçÆ‰∏ç‰ºöÊúâ‰∏¢Â§±ÁöÑÈ£éÈô©„ÄÇÂΩìÊàë‰ª¨ÈúÄË¶ÅÁºìÂ≠òÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëËøô‰∫õÁî®Êà∑Âè™ËØªÁöÑÊï∞ÊçÆÊó∂ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®Âè™ËØªÁºìÂ≠òËøô‰∏™Á±ªÂûã‰∫Ü„ÄÇ</p>
<h3 id="ËØªÂÜôÁºìÂ≠ò"><a href="#ËØªÂÜôÁºìÂ≠ò" class="headerlink" title="ËØªÂÜôÁºìÂ≠ò"></a>ËØªÂÜôÁºìÂ≠ò</h3><p>ÂØπ‰∫éËØªÂÜôÁºìÂ≠òÊù•ËØ¥ÔºåÈô§‰∫ÜËØªËØ∑Ê±Ç‰ºöÂèëÈÄÅÂà∞ÁºìÂ≠òËøõË°åÂ§ÑÁêÜÔºàÁõ¥Êé•Âú®ÁºìÂ≠ò‰∏≠Êü•ËØ¢Êï∞ÊçÆÊòØÂê¶Â≠òÂú®)ÔºåÊâÄÊúâÁöÑÂÜôËØ∑Ê±Ç‰πü‰ºöÂèëÈÄÅÂà∞ÁºìÂ≠òÔºåÂú®ÁºìÂ≠ò‰∏≠Áõ¥Êé•ÂØπÊï∞ÊçÆËøõË°åÂ¢ûÂà†ÊîπÊìç‰Ωú„ÄÇÊ≠§Êó∂ÔºåÂæóÁõä‰∫é<code>Redis</code> ÁöÑÈ´òÊÄßËÉΩËÆøÈóÆÁâπÊÄßÔºåÊï∞ÊçÆÁöÑÂ¢ûÂà†ÊîπÊìç‰ΩúÂèØ‰ª•Âú®ÁºìÂ≠ò‰∏≠Âø´ÈÄüÂÆåÊàêÔºåÂ§ÑÁêÜÁªìÊûú‰πü‰ºöÂø´ÈÄüËøîÂõûÁªô‰∏öÂä°Â∫îÁî®ÔºåËøôÂ∞±ÂèØ‰ª•ÊèêÂçá‰∏öÂä°Â∫îÁî®ÁöÑÂìçÂ∫îÈÄüÂ∫¶„ÄÇ</p>
<p>‰ΩÜÊòØÔºåÂíåÂè™ËØªÁºìÂ≠ò‰∏ç‰∏ÄÊ†∑ÁöÑÊòØÔºåÂú®‰ΩøÁî®ËØªÂÜôÁºìÂ≠òÊó∂ÔºåÊúÄÊñ∞ÁöÑÊï∞ÊçÆÊòØÂú® <code>Redis</code> ‰∏≠ÔºåËÄå <code>Redis</code> ÊòØÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÔºå‰∏ÄÊó¶Âá∫Áé∞ÊéâÁîµÊàñÂÆïÊú∫ÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂ∞±‰ºö‰∏¢Â§±„ÄÇËøô‰πüÂ∞±ÊòØËØ¥ÔºåÂ∫îÁî®ÁöÑÊúÄÊñ∞Êï∞ÊçÆÂèØËÉΩ‰ºö‰∏¢Â§±ÔºåÁªôÂ∫îÁî®‰∏öÂä°Â∏¶Êù•È£éÈô©„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÊ†πÊçÆ‰∏öÂä°Â∫îÁî®ÂØπÊï∞ÊçÆÂèØÈù†ÊÄßÂíåÁºìÂ≠òÊÄßËÉΩÁöÑ‰∏çÂêåË¶ÅÊ±ÇÔºåÊàë‰ª¨‰ºöÊúâÂêåÊ≠•Áõ¥ÂÜôÂíåÂºÇÊ≠•ÂÜôÂõû‰∏§ÁßçÁ≠ñÁï•„ÄÇÂÖ∂‰∏≠Ôºå<strong>ÂêåÊ≠•Áõ¥ÂÜôÁ≠ñÁï•‰ºòÂÖà‰øùËØÅÊï∞ÊçÆÂèØÈù†ÊÄßÔºåËÄåÂºÇÊ≠•ÂÜôÂõûÁ≠ñÁï•‰ºòÂÖàÊèê‰æõÂø´ÈÄüÂìçÂ∫î„ÄÇ</strong></p>
<ul>
<li><p><strong>ÂêåÊ≠•Áõ¥ÂÜô</strong>ÔºöÂÜôËØ∑Ê±ÇÂèëÁªôÁºìÂ≠òÁöÑÂêåÊó∂Ôºå‰πü‰ºöÂèëÁªôÂêéÁ´ØÊï∞ÊçÆÂ∫ìËøõË°åÂ§ÑÁêÜÔºåÁ≠âÂà∞ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÈÉΩÂÜôÂÆåÊï∞ÊçÆÔºåÊâçÁªôÂÆ¢Êà∑Á´ØËøîÂõû„ÄÇËøôÊ†∑ÔºåÂç≥‰ΩøÁºìÂ≠òÂÆïÊú∫ÊàñÂèëÁîüÊïÖÈöúÔºåÊúÄÊñ∞ÁöÑÊï∞ÊçÆ‰ªçÁÑ∂‰øùÂ≠òÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåËøôÂ∞±Êèê‰æõ‰∫ÜÊï∞ÊçÆÂèØÈù†ÊÄß‰øùËØÅ„ÄÇÂêåÊ≠•Áõ¥ÂÜô‰ºöÈôç‰ΩéÁºìÂ≠òÁöÑËÆøÈóÆÊÄßËÉΩ„ÄÇËøôÊòØÂõ†‰∏∫ÁºìÂ≠ò‰∏≠Â§ÑÁêÜÂÜôËØ∑Ê±ÇÁöÑÈÄüÂ∫¶ÊòØÂæàÂø´ÁöÑÔºåËÄåÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÂÜôËØ∑Ê±ÇÁöÑÈÄüÂ∫¶ËæÉÊÖ¢„ÄÇÂç≥‰ΩøÁºìÂ≠òÂæàÂø´Âú∞Â§ÑÁêÜ‰∫ÜÂÜôËØ∑Ê±ÇÔºå‰πüÈúÄË¶ÅÁ≠âÂæÖÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÂÆåÊâÄÊúâÁöÑÂÜôËØ∑Ê±ÇÔºåÊâçËÉΩÁªôÂ∫îÁî®ËøîÂõûÁªìÊûúÔºåËøôÂ∞±Â¢ûÂä†‰∫ÜÁºìÂ≠òÁöÑÂìçÂ∫îÂª∂Ëøü„ÄÇ</p>
</li>
<li><p><strong>ÂºÇÊ≠•ÂÜôÂõû</strong>Ôºö‰ºòÂÖàËÄÉËôë‰∫ÜÂìçÂ∫îÂª∂Ëøü„ÄÇÊ≠§Êó∂ÔºåÊâÄÊúâÂÜôËØ∑Ê±ÇÈÉΩÂÖàÂú®ÁºìÂ≠ò‰∏≠Â§ÑÁêÜ„ÄÇÁ≠âÂà∞Ëøô‰∫õÂ¢ûÊîπÁöÑÊï∞ÊçÆË¶ÅË¢´‰ªéÁºìÂ≠ò‰∏≠Ê∑òÊ±∞Âá∫Êù•Êó∂ÔºåÁºìÂ≠òÂ∞ÜÂÆÉ‰ª¨ÂÜôÂõûÂêéÁ´ØÊï∞ÊçÆÂ∫ì„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂ§ÑÁêÜËøô‰∫õÊï∞ÊçÆÁöÑÊìç‰ΩúÊòØÂú®ÁºìÂ≠ò‰∏≠ËøõË°åÁöÑÔºåÂæàÂø´Â∞±ËÉΩÂÆåÊàê„ÄÇÂè™‰∏çËøáÔºåÂ¶ÇÊûúÂèëÁîü‰∫ÜÊéâÁîµÔºåËÄåÂÆÉ‰ª¨ËøòÊ≤°ÊúâË¢´ÂÜôÂõûÊï∞ÊçÆÂ∫ìÔºåÂ∞±‰ºöÊúâ‰∏¢Â§±ÁöÑÈ£éÈô©‰∫Ü„ÄÇ</p>
</li>
</ul>
<img src="http://lihuitao-picture.oss-cn-beijing.aliyuncs.com/img/009d055bb91d42c28b9316c649f87f66.jpg" alt="img" style="zoom:20%;" />

<p><strong>ÂÖ≥‰∫éÊòØÈÄâÊã©Âè™ËØªÁºìÂ≠òÔºåËøòÊòØËØªÂÜôÁºìÂ≠òÔºå‰∏ªË¶ÅÁúãÊàë‰ª¨ÂØπÂÜôËØ∑Ê±ÇÊòØÂê¶ÊúâÂä†ÈÄüÁöÑÈúÄÊ±Ç„ÄÇ</strong></p>
<ul>
<li><p>Â¶ÇÊûúÈúÄË¶ÅÂØπÂÜôËØ∑Ê±ÇËøõË°åÂä†ÈÄüÔºåÊàë‰ª¨ÈÄâÊã©ËØªÂÜôÁºìÂ≠òÔºõ</p>
</li>
<li><p>Â¶ÇÊûúÂÜôËØ∑Ê±ÇÂæàÂ∞ëÔºåÊàñËÄÖÊòØÂè™ÈúÄË¶ÅÊèêÂçáËØªËØ∑Ê±ÇÁöÑÂìçÂ∫îÈÄüÂ∫¶ÁöÑËØùÔºåÊàë‰ª¨ÈÄâÊã©Âè™ËØªÁºìÂ≠ò„ÄÇ</p>
</li>
</ul>
<p>‰∏æ‰∏™‰æãÂ≠êÔºåÂú®ÂïÜÂìÅÂ§ß‰øÉÁöÑÂú∫ÊôØ‰∏≠ÔºåÂïÜÂìÅÁöÑÂ∫ìÂ≠ò‰ø°ÊÅØ‰ºö‰∏ÄÁõ¥Ë¢´‰øÆÊîπ„ÄÇÂ¶ÇÊûúÊØèÊ¨°‰øÆÊîπÈÉΩÈúÄÂà∞Êï∞ÊçÆÂ∫ì‰∏≠Â§ÑÁêÜÔºåÂ∞±‰ºöÊãñÊÖ¢Êï¥‰∏™Â∫îÁî®ÔºåÊ≠§Êó∂ÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÈÄâÊã©ËØªÂÜôÁºìÂ≠òÁöÑÊ®°Âºè„ÄÇËÄåÂú®Áü≠ËßÜÈ¢ë <code>App</code> ÁöÑÂú∫ÊôØ‰∏≠ÔºåËôΩÁÑ∂ËßÜÈ¢ëÁöÑÂ±ûÊÄßÊúâÂæàÂ§öÔºå‰ΩÜÊòØÔºå‰∏ÄËà¨Á°ÆÂÆöÂêéÔºå‰øÆÊîπÂπ∂‰∏çÈ¢ëÁπÅÔºåÊ≠§Êó∂ÔºåÂú®Êï∞ÊçÆÂ∫ì‰∏≠ËøõË°å‰øÆÊîπÂØπÁºìÂ≠òÂΩ±Âìç‰∏çÂ§ßÔºåÊâÄ‰ª•Âè™ËØªÁºìÂ≠òÊ®°ÂºèÊòØ‰∏Ä‰∏™ÂêàÈÄÇÁöÑÈÄâÊã©„ÄÇ</p>
<h2 id="ÈóÆÈ¢òÔºö"><a href="#ÈóÆÈ¢òÔºö" class="headerlink" title="ÈóÆÈ¢òÔºö"></a>ÈóÆÈ¢òÔºö</h2><p><strong><code>Redis</code> Âè™ËØªÁºìÂ≠òÂíå‰ΩøÁî®Áõ¥ÂÜôÁ≠ñÁï•ÁöÑËØªÂÜôÁºìÂ≠òÔºåËøô‰∏§ÁßçÁºìÂ≠òÈÉΩ‰ºöÊääÊï∞ÊçÆÂêåÊ≠•ÂÜôÂà∞ÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠Ôºå‰Ω†ËßâÂæóÔºåÂÆÉ‰ª¨Êúâ‰ªÄ‰πàÂå∫Âà´ÂêóÔºü</strong></p>
<p>1„ÄÅ‰ΩøÁî®Âè™ËØªÁºìÂ≠òÊó∂ÔºåÊòØÂÖàÊää‰øÆÊîπÂÜôÂà∞ÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂÜçÊääÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂà†Èô§„ÄÇÂΩì‰∏ãÊ¨°ËÆøÈóÆËøô‰∏™Êï∞ÊçÆÊó∂Ôºå‰ºö‰ª•ÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄº‰∏∫ÂáÜÔºåÈáçÊñ∞Âä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠„ÄÇËøôÊ†∑ÂÅöÁöÑ‰ºòÁÇπÊòØÔºåÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÂèØ‰ª•‰øùËØÅÂÆåÂÖ®‰∏ÄËá¥ÔºåÂπ∂‰∏îÁºìÂ≠ò‰∏≠Ê∞∏Ëøú‰øùÁïôÁöÑÊòØÁªèÂ∏∏ËÆøÈóÆÁöÑÁÉ≠ÁÇπÊï∞ÊçÆ„ÄÇÁº∫ÁÇπÊòØÊØèÊ¨°‰øÆÊîπÊìç‰ΩúÈÉΩ‰ºöÊääÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂà†Èô§Ôºå‰πãÂêéËÆøÈóÆÊó∂ÈÉΩ‰ºöÂÖàËß¶Âèë‰∏ÄÊ¨°ÁºìÂ≠òÁº∫Â§±ÔºåÁÑ∂Âêé‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ìÂä†ËΩΩÊï∞ÊçÆÂà∞ÁºìÂ≠ò‰∏≠ÔºåËøô‰∏™ËøáÁ®ãËÆøÈóÆÂª∂Ëøü‰ºöÂèòÂ§ß„ÄÇ</p>
<p>2„ÄÅ‰ΩøÁî®ËØªÂÜôÁºìÂ≠òÊó∂ÔºåÊòØÂêåÊó∂‰øÆÊîπÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò‰∏≠ÁöÑÂÄº„ÄÇËøôÊ†∑ÂÅöÁöÑ‰ºòÁÇπÊòØÔºåË¢´‰øÆÊîπÂêéÁöÑÊï∞ÊçÆÊ∞∏ËøúÂú®ÁºìÂ≠ò‰∏≠Â≠òÂú®Ôºå‰∏ãÊ¨°ËÆøÈóÆÊó∂ÔºåËÉΩÂ§üÁõ¥Êé•ÂëΩ‰∏≠ÁºìÂ≠òÔºå‰∏çÁî®ÂÜç‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢ÔºåËøô‰∏™ËøáÁ®ãÊã•ÊúâÊØîËæÉÂ•ΩÁöÑÊÄßËÉΩÔºåÊØîËæÉÈÄÇÂêàÂÖà‰øÆÊîπÂèàÁ´ãÂç≥ËÆøÈóÆÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ‰ΩÜÁº∫ÁÇπÊòØÂú®È´òÂπ∂ÂèëÂú∫ÊôØ‰∏ãÔºåÂ¶ÇÊûúÂ≠òÂú®Â§ö‰∏™Êìç‰ΩúÂêåÊó∂‰øÆÊîπÂêå‰∏Ä‰∏™ÂÄºÁöÑÊÉÖÂÜµÔºåÂèØËÉΩ‰ºöÂØºËá¥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p>3„ÄÅÂΩì‰ΩøÁî®Âè™ËØªÁºìÂ≠òÊó∂ÔºåÂ¶ÇÊûú‰øÆÊîπÊï∞ÊçÆÂ∫ìÂ§±Ë¥•‰∫ÜÔºåÈÇ£‰πàÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰πü‰∏ç‰ºöË¢´Âà†Èô§ÔºåÊ≠§Êó∂Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰æùÊóß‰øùÊåÅ‰∏ÄËá¥„ÄÇËÄå‰ΩøÁî®ËØªÂÜôÁºìÂ≠òÊó∂ÔºåÂ¶ÇÊûúÊòØÂÖà‰øÆÊîπÁºìÂ≠òÔºåÂêé‰øÆÊîπÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûúÁºìÂ≠ò‰øÆÊîπÊàêÂäüÔºåËÄåÊï∞ÊçÆÂ∫ì‰øÆÊîπÂ§±Ë¥•‰∫ÜÔºåÈÇ£‰πàÊ≠§Êó∂Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÊï∞ÊçÆÂ∞±‰∏ç‰∏ÄËá¥‰∫Ü„ÄÇÂ¶ÇÊûúÂÖà‰øÆÊîπÊï∞ÊçÆÂ∫ìÔºåÂÜç‰øÆÊîπÁºìÂ≠òÔºå‰πü‰ºö‰∫ßÁîü‰∏äÈù¢ÊâÄËØ¥ÁöÑÂπ∂ÂèëÂú∫ÊôØ‰∏ãÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p><strong>ÊÄªÁªì</strong>ÔºöÂè™ËØªÁºìÂ≠òÊòØÁâ∫Áâ≤‰∫Ü‰∏ÄÂÆöÁöÑÊÄßËÉΩÔºå‰ºòÂÖà‰øùËØÅÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ÄËá¥ÊÄßÔºåÂÆÉÊõ¥ÈÄÇÂêàÂØπ‰∫é‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÊØîËæÉË¶ÅÈ´òÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇËÄåÂ¶ÇÊûúÂØπ‰∫éÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÔºåÊàñËÄÖ‰∏çÂ≠òÂú®Âπ∂Âèë‰øÆÊîπÂêå‰∏Ä‰∏™ÂÄºÁöÑÊÉÖÂÜµÔºåÈÇ£‰πà‰ΩøÁî®ËØªÂÜôÁºìÂ≠òÂ∞±ÊØîËæÉÂêàÈÄÇÔºåÂÆÉÂèØ‰ª•‰øùËØÅÊõ¥Â•ΩÁöÑËÆøÈóÆÊÄßËÉΩ„ÄÇ</p>
<h1 id="ÊõøÊç¢Á≠ñÁï•ÔºöÁºìÂ≠òÊª°‰∫ÜÊÄé‰πàÂäûÔºü"><a href="#ÊõøÊç¢Á≠ñÁï•ÔºöÁºìÂ≠òÊª°‰∫ÜÊÄé‰πàÂäûÔºü" class="headerlink" title="ÊõøÊç¢Á≠ñÁï•ÔºöÁºìÂ≠òÊª°‰∫ÜÊÄé‰πàÂäûÔºü"></a>ÊõøÊç¢Á≠ñÁï•ÔºöÁºìÂ≠òÊª°‰∫ÜÊÄé‰πàÂäûÔºü</h1><p><code>Redis</code> ÁºìÂ≠ò‰ΩøÁî®ÂÜÖÂ≠òÊù•‰øùÂ≠òÊï∞ÊçÆÔºåÈÅøÂÖç‰∏öÂä°Â∫îÁî®‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂèØ‰ª•ÊèêÂçáÂ∫îÁî®ÁöÑÂìçÂ∫îÈÄüÂ∫¶„ÄÇÈÇ£‰πàÔºåÂ¶ÇÊûúÊàë‰ª¨ÊääÊâÄÊúâË¶ÅËÆøÈóÆÁöÑÊï∞ÊçÆÈÉΩÊîæÂÖ•ÁºìÂ≠òÔºåÊòØ‰∏çÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑËÆæËÆ°ÈÄâÊã©Âë¢ÔºüÂÖ∂ÂÆûÔºåËøôÊ†∑ÂÅöÁöÑÊÄß‰ª∑ÊØîÂèçËÄå‰∏çÈ´ò„ÄÇ</p>
<p>‰∏æ‰∏™‰æãÂ≠êÂêß„ÄÇ<code>MySQL</code> ‰∏≠Êúâ <code>1TB</code> ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÊàë‰ª¨‰ΩøÁî® <code>Redis</code> ÊääËøô <code>1TB</code> ÁöÑÊï∞ÊçÆÈÉΩÁºìÂ≠òËµ∑Êù•ÔºåËôΩÁÑ∂Â∫îÁî®ÈÉΩËÉΩÂú®ÂÜÖÂ≠ò‰∏≠ËÆøÈóÆÊï∞ÊçÆ‰∫ÜÔºå‰ΩÜÊòØÔºåËøôÊ†∑ÈÖçÁΩÆÂπ∂‰∏çÂêàÁêÜÔºåÂõ†‰∏∫ÊÄß‰ª∑ÊØîÂæà‰Ωé„ÄÇ‰∏ÄÊñπÈù¢Ôºå<code>1TB</code> ÂÜÖÂ≠òÁöÑ‰ª∑Ê†ºÂ§ßÁ∫¶ÊòØ 3.5 ‰∏áÂÖÉÔºåËÄå <code>1TB</code> Á£ÅÁõòÁöÑ‰ª∑Ê†ºÂ§ßÁ∫¶ÊòØ 1000 ÂÖÉ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÊï∞ÊçÆËÆøÈóÆÈÉΩÊòØÊúâÂ±ÄÈÉ®ÊÄßÁöÑÔºå‰πüÂ∞±ÊòØÊàë‰ª¨ÈÄöÂ∏∏ÊâÄËØ¥ÁöÑ‚ÄúÂÖ´‰∫åÂéüÁêÜ‚ÄùÔºå80% ÁöÑËØ∑Ê±ÇÂÆûÈôÖÂè™ËÆøÈóÆ‰∫Ü 20% ÁöÑÊï∞ÊçÆ„ÄÇÊâÄ‰ª•ÔºåÁî® <code>1TB</code> ÁöÑÂÜÖÂ≠òÂÅöÁºìÂ≠òÔºåÂπ∂Ê≤°ÊúâÂøÖË¶Å„ÄÇ</p>
<p><strong>ÁºìÂ≠òÊï∞ÊçÆÁöÑÊ∑òÊ±∞Êú∫Âà∂Ôºö</strong>ÁÆÄÂçïÊù•ËØ¥ÔºåÊï∞ÊçÆÊ∑òÊ±∞Êú∫Âà∂ÂåÖÊã¨‰∏§Ê≠•Ôºö<strong>Á¨¨‰∏ÄÔºåÊ†πÊçÆ‰∏ÄÂÆöÁöÑÁ≠ñÁï•ÔºåÁ≠õÈÄâÂá∫ÂØπÂ∫îÁî®ËÆøÈóÆÊù•ËØ¥‚Äú‰∏çÈáçË¶Å‚ÄùÁöÑÊï∞ÊçÆÔºõÁ¨¨‰∫åÔºåÂ∞ÜËøô‰∫õÊï∞ÊçÆ‰ªéÁºìÂ≠ò‰∏≠Âà†Èô§Ôºå‰∏∫Êñ∞Êù•ÁöÑÊï∞ÊçÆËÖæÂá∫Á©∫Èó¥Ôºå</strong></p>
<h2 id="ËÆæÁΩÆÂ§öÂ§ßÁöÑÁºìÂ≠òÂÆπÈáèÂêàÈÄÇÔºü"><a href="#ËÆæÁΩÆÂ§öÂ§ßÁöÑÁºìÂ≠òÂÆπÈáèÂêàÈÄÇÔºü" class="headerlink" title="ËÆæÁΩÆÂ§öÂ§ßÁöÑÁºìÂ≠òÂÆπÈáèÂêàÈÄÇÔºü"></a>ËÆæÁΩÆÂ§öÂ§ßÁöÑÁºìÂ≠òÂÆπÈáèÂêàÈÄÇÔºü</h2><p>ÁºìÂ≠òÂÆπÈáèËÆæÁΩÆÂæóÊòØÂê¶ÂêàÁêÜÔºå‰ºöÁõ¥Êé•ÂΩ±ÂìçÂà∞‰ΩøÁî®ÁºìÂ≠òÁöÑÊÄß‰ª∑ÊØî„ÄÇÊàë‰ª¨ÈÄöÂ∏∏Â∏åÊúõ‰ª•ÊúÄÂ∞èÁöÑ‰ª£‰ª∑ÂéªËé∑ÂæóÊúÄÂ§ßÁöÑÊî∂ÁõäÔºåÊâÄ‰ª•ÔºåÊääÊòÇË¥µÁöÑÂÜÖÂ≠òËµÑÊ∫êÁî®Âú®ÂÖ≥ÈîÆÂú∞ÊñπÂ∞±ÈùûÂ∏∏ÈáçË¶Å‰∫Ü„ÄÇ</p>
<p>ÂÆûÈôÖÂ∫îÁî®‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÊòØÂÖ∑ÊúâÂ±ÄÈÉ®ÊÄßÁöÑ„ÄÇ‰∏ãÈù¢Êúâ‰∏ÄÂº†ÂõæÔºåÂõæÈáåÊúâÁ∫¢„ÄÅËìù‰∏§Êù°Á∫øÔºåÊòæÁ§∫‰∫Ü‰∏çÂêåÊØî‰æãÊï∞ÊçÆË¥°ÁåÆÁöÑËÆøÈóÆÈáèÊÉÖÂÜµ„ÄÇËìùÁ∫ø‰ª£Ë°®‰∫Ü‚ÄúÂÖ´‰∫åÂéüÁêÜ‚ÄùË°®Á§∫ÁöÑÊï∞ÊçÆÂ±ÄÈÉ®ÊÄßÔºåËÄåÁ∫¢Á∫øÂàôË°®Á§∫Âú®ÂΩìÂâçÂ∫îÁî®Ë¥üËΩΩ‰∏ãÔºåÊï∞ÊçÆÂ±ÄÈÉ®ÊÄßÁöÑÂèòÂåñ„ÄÇÊàë‰ª¨ÂÖàÁúãÁúãËìùÁ∫ø„ÄÇÂÆÉË°®Á§∫ÁöÑÂ∞±ÊòØ‚ÄúÂÖ´‰∫åÂéüÁêÜ‚ÄùÔºåÊúâ 20% ÁöÑÊï∞ÊçÆË¥°ÁåÆ‰∫Ü 80% ÁöÑËÆøÈóÆ‰∫ÜÔºåËÄåÂâ©‰ΩôÁöÑÊï∞ÊçÆËôΩÁÑ∂‰ΩìÈáèÂæàÂ§ßÔºå‰ΩÜÂè™Ë¥°ÁåÆ‰∫Ü 20% ÁöÑËÆøÈóÆÈáè„ÄÇËøô 80% ÁöÑÊï∞ÊçÆÂú®ËÆøÈóÆÈáè‰∏äÂ∞±ÂΩ¢Êàê‰∫Ü‰∏ÄÊù°ÈïøÈïøÁöÑÂ∞æÂ∑¥ÔºåÊàë‰ª¨‰πüÁß∞‰∏∫‚ÄúÈïøÂ∞æÊïàÂ∫î‚Äù„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/98/e4/986ed247a4353524f387f0bbf76586e4.jpg" alt="img" style="zoom:20%;" />

<p>Âõ†‰∏∫ 20% ÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄÂÆöËÉΩË¥°ÁåÆ 80% ÁöÑËÆøÈóÆÈáèÔºåÊàë‰ª¨‰∏çËÉΩÁÆÄÂçïÂú∞ÊåâÁÖß‚ÄúÊÄªÊï∞ÊçÆÈáèÁöÑ 20%‚ÄùÊù•ËÆæÁΩÆÁºìÂ≠òÊúÄÂ§ßÁ©∫Èó¥ÂÆπÈáè„ÄÇÂú®ÂÆûË∑µËøáÁ®ã‰∏≠ÔºåÊàëÁúãÂà∞ËøáÁöÑÁºìÂ≠òÂÆπÈáèÂç†ÊÄªÊï∞ÊçÆÈáèÁöÑÊØî‰æãÔºå‰ªé 5% Âà∞ 40% ÁöÑÈÉΩÊúâ„ÄÇËøô‰∏™ÂÆπÈáèËßÑÂàí‰∏çËÉΩ‰∏ÄÊ¶ÇËÄåËÆ∫ÔºåÊòØÈúÄË¶ÅÁªìÂêàÂ∫îÁî®Êï∞ÊçÆÂÆûÈôÖËÆøÈóÆÁâπÂæÅÂíåÊàêÊú¨ÂºÄÈîÄÊù•ÁªºÂêàËÄÉËôëÁöÑ„ÄÇ</p>
<p><strong>Âª∫ËÆÆÊääÁºìÂ≠òÂÆπÈáèËÆæÁΩÆ‰∏∫ÊÄªÊï∞ÊçÆÈáèÁöÑ 15% Âà∞ 30%ÔºåÂÖºÈ°æËÆøÈóÆÊÄßËÉΩÂíåÂÜÖÂ≠òÁ©∫Èó¥ÂºÄÈîÄ„ÄÇ</strong></p>
<p>ÂØπ‰∫é <code>Redis</code> Êù•ËØ¥Ôºå‰∏ÄÊó¶Á°ÆÂÆö‰∫ÜÁºìÂ≠òÊúÄÂ§ßÂÆπÈáèÔºåÊØîÂ¶Ç <code>4GB</code>Ôºå‰Ω†Â∞±ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢Ëøô‰∏™ÂëΩ‰ª§Êù•ËÆæÂÆöÁºìÂ≠òÁöÑÂ§ßÂ∞è‰∫ÜÔºö</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONFIG SET maxmemory 4gb</span><br></pre></td></tr></table></figure>

<p><strong>ÁºìÂ≠òË¢´ÂÜôÊª°ÊòØ‰∏çÂèØÈÅøÂÖçÁöÑ„ÄÇ</strong>Âç≥‰Ωø‰Ω†Á≤æÊåëÁªÜÈÄâÔºåÁ°ÆÂÆö‰∫ÜÁºìÂ≠òÂÆπÈáèÔºåËøòÊòØË¶ÅÈù¢ÂØπÁºìÂ≠òÂÜôÊª°Êó∂ÁöÑÊõøÊç¢Êìç‰Ωú„ÄÇÁºìÂ≠òÊõøÊç¢ÈúÄË¶ÅËß£ÂÜ≥‰∏§‰∏™ÈóÆÈ¢òÔºöÂÜ≥ÂÆöÊ∑òÊ±∞Âì™‰∫õÊï∞ÊçÆÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜÈÇ£‰∫õË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<h2 id="Redis-ÁºìÂ≠òÊúâÂì™‰∫õÊ∑òÊ±∞Á≠ñÁï•Ôºü"><a href="#Redis-ÁºìÂ≠òÊúâÂì™‰∫õÊ∑òÊ±∞Á≠ñÁï•Ôºü" class="headerlink" title="Redis ÁºìÂ≠òÊúâÂì™‰∫õÊ∑òÊ±∞Á≠ñÁï•Ôºü"></a><code>Redis</code> ÁºìÂ≠òÊúâÂì™‰∫õÊ∑òÊ±∞Á≠ñÁï•Ôºü</h2><p>ÂÜÖÂ≠òÊ∑òÊ±∞Á≠ñÁï•Â¶Ç‰∏ãÔºö</p>
<img src="https://static001.geekbang.org/resource/image/04/f6/04bdd13b760016ec3b30f4b02e133df6.jpg" alt="img" style="zoom: 33%;" />

<ul>
<li><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå<code>Redis</code> Âú®‰ΩøÁî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ë∂ÖËøá <code>maxmemory</code> ÂÄºÊó∂ÔºåÂπ∂‰∏ç‰ºöÊ∑òÊ±∞Êï∞ÊçÆÔºå‰πüÂ∞±ÊòØËÆæÂÆöÁöÑ <code>noeviction</code> Á≠ñÁï•„ÄÇÂØπÂ∫îÂà∞ <code>Redis</code> ÁºìÂ≠òÔºå‰πüÂ∞±ÊòØÊåáÔºå‰∏ÄÊó¶ÁºìÂ≠òË¢´ÂÜôÊª°‰∫ÜÔºåÂÜçÊúâÂÜôËØ∑Ê±ÇÊù•Êó∂Ôºå<code>Redis</code> ‰∏çÂÜçÊèê‰æõÊúçÂä°ÔºåËÄåÊòØÁõ¥Êé•ËøîÂõûÈîôËØØ„ÄÇ<code>Redis</code> Áî®‰ΩúÁºìÂ≠òÊó∂ÔºåÂÆûÈôÖÁöÑÊï∞ÊçÆÈõÜÈÄöÂ∏∏ÈÉΩÊòØÂ§ß‰∫éÁºìÂ≠òÂÆπÈáèÁöÑÔºåÊÄª‰ºöÊúâÊñ∞ÁöÑÊï∞ÊçÆË¶ÅÂÜôÂÖ•ÁºìÂ≠òÔºåËøô‰∏™Á≠ñÁï•Êú¨Ë∫´‰∏çÊ∑òÊ±∞Êï∞ÊçÆÔºå‰πüÂ∞±‰∏ç‰ºöËÖæÂá∫Êñ∞ÁöÑÁºìÂ≠òÁ©∫Èó¥ÔºåÊàë‰ª¨‰∏çÊääÂÆÉÁî®Âú® <code>Redis</code> ÁºìÂ≠ò‰∏≠„ÄÇ</p>
</li>
<li><p>ÈíàÂØπËøáÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÔºö</p>
<ul>
<li><code>volatile-ttl</code> Âú®Á≠õÈÄâÊó∂Ôºå‰ºöÈíàÂØπËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑÈîÆÂÄºÂØπÔºåÊ†πÊçÆËøáÊúüÊó∂Èó¥ÁöÑÂÖàÂêéËøõË°åÂà†Èô§ÔºåË∂äÊó©ËøáÊúüÁöÑË∂äÂÖàË¢´Âà†Èô§„ÄÇ</li>
<li><code>volatile-random</code> Â∞±ÂÉèÂÆÉÁöÑÂêçÁß∞‰∏ÄÊ†∑ÔºåÂú®ËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑÈîÆÂÄºÂØπ‰∏≠ÔºåËøõË°åÈöèÊú∫Âà†Èô§„ÄÇ</li>
<li><code>volatile-lru</code> ‰ºö‰ΩøÁî® <code>LRU</code> ÁÆóÊ≥ïÁ≠õÈÄâËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑÈîÆÂÄºÂØπ„ÄÇ</li>
<li><code>volatile-lfu</code> ‰ºö‰ΩøÁî® <code>LFU</code> ÁÆóÊ≥ïÈÄâÊã©ËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑÈîÆÂÄºÂØπ„ÄÇ</li>
</ul>
</li>
<li><p>ÈíàÂØπÊâÄÊúâÊï∞ÊçÆÔºö</p>
<ul>
<li><code>allkeys-random</code> Á≠ñÁï•Ôºå‰ªéÊâÄÊúâÈîÆÂÄºÂØπ‰∏≠ÈöèÊú∫ÈÄâÊã©Âπ∂Âà†Èô§Êï∞ÊçÆÔºõ</li>
<li><code>allkeys-lru</code> Á≠ñÁï•Ôºå‰ΩøÁî® <code>LRU</code> ÁÆóÊ≥ïÂú®ÊâÄÊúâÊï∞ÊçÆ‰∏≠ËøõË°åÁ≠õÈÄâ„ÄÇ</li>
<li><code>allkeys-lfu</code> Á≠ñÁï•Ôºå‰ΩøÁî® <code>LFU</code> ÁÆóÊ≥ïÂú®ÊâÄÊúâÊï∞ÊçÆ‰∏≠ËøõË°åÁ≠õÈÄâ„ÄÇ</li>
</ul>
</li>
</ul>
<p>Ëøô‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÈîÆÂÄºÂØπË¢´Âà†Èô§Á≠ñÁï•ÈÄâ‰∏≠‰∫ÜÔºåÂç≥‰ΩøÂÆÉÁöÑËøáÊúüÊó∂Èó¥ËøòÊ≤°Âà∞Ôºå‰πüÈúÄË¶ÅË¢´Âà†Èô§„ÄÇÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÂÆÉÁöÑËøáÊúüÊó∂Èó¥Âà∞‰∫Ü‰ΩÜÊú™Ë¢´Á≠ñÁï•ÈÄâ‰∏≠ÔºåÂêåÊ†∑‰πü‰ºöË¢´Âà†Èô§„ÄÇ</p>
<p><code>LRU</code> ÁÆóÊ≥ïÁöÑÂÖ®Áß∞ÊòØ Least Recently UsedÔºå‰ªéÂêçÂ≠ó‰∏äÂ∞±ÂèØ‰ª•ÁúãÂá∫Ôºå<strong>ËøôÊòØÊåâÁÖßÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÂéüÂàôÊù•Á≠õÈÄâÊï∞ÊçÆÔºåÊúÄ‰∏çÂ∏∏Áî®ÁöÑÊï∞ÊçÆ‰ºöË¢´Á≠õÈÄâÂá∫Êù•ÔºåËÄåÊúÄËøëÈ¢ëÁπÅ‰ΩøÁî®ÁöÑÊï∞ÊçÆ‰ºöÁïôÂú®ÁºìÂ≠ò‰∏≠„ÄÇ</strong><code> LRU</code> ÁÆóÊ≥ïËÉåÂêéÁöÑÊÉ≥Ê≥ïÈùûÂ∏∏Êú¥Á¥†ÔºöÂÆÉËÆ§‰∏∫ÂàöÂàöË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÔºåËÇØÂÆöËøò‰ºöË¢´ÂÜçÊ¨°ËÆøÈóÆÔºåÊâÄ‰ª•Â∞±ÊääÂÆÉÊîæÂú® <code>MRU</code> Á´ØÔºõÈïø‰πÖ‰∏çËÆøÈóÆÁöÑÊï∞ÊçÆÔºåËÇØÂÆöÂ∞±‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆ‰∫ÜÔºåÊâÄ‰ª•Â∞±ËÆ©ÂÆÉÈÄêÊ∏êÂêéÁßªÂà∞ <code>LRU</code> Á´ØÔºåÂú®ÁºìÂ≠òÊª°Êó∂ÔºåÂ∞±‰ºòÂÖàÂà†Èô§ÂÆÉ„ÄÇ</p>
<p><strong>Áº∫ÁÇπÔºö</strong> <code>LRU</code> ÁÆóÊ≥ïÂú®ÂÆûÈôÖÂÆûÁé∞Êó∂ÔºåÈúÄË¶ÅÁî®ÈìæË°®ÁÆ°ÁêÜÊâÄÊúâÁöÑÁºìÂ≠òÊï∞ÊçÆÔºåËøô‰ºöÂ∏¶Êù•È¢ùÂ§ñÁöÑÁ©∫Èó¥ÂºÄÈîÄ„ÄÇËÄå‰∏îÔºåÂΩìÊúâÊï∞ÊçÆË¢´ËÆøÈóÆÊó∂ÔºåÈúÄË¶ÅÂú®ÈìæË°®‰∏äÊääËØ•Êï∞ÊçÆÁßªÂä®Âà∞ <code>MRU</code> Á´ØÔºåÂ¶ÇÊûúÊúâÂ§ßÈáèÊï∞ÊçÆË¢´ËÆøÈóÆÔºåÂ∞±‰ºöÂ∏¶Êù•ÂæàÂ§öÈìæË°®ÁßªÂä®Êìç‰ΩúÔºå‰ºöÂæàËÄóÊó∂ÔºåËøõËÄå‰ºöÈôç‰Ωé <code>Redis</code> ÁºìÂ≠òÊÄßËÉΩ„ÄÇ</p>
<p><strong>Ëß£ÂÜ≥Ôºö</strong> Âú® <code>Redis</code> ‰∏≠Ôºå<code>LRU</code> ÁÆóÊ≥ïË¢´ÂÅö‰∫ÜÁÆÄÂåñÔºå‰ª•ÂáèËΩªÊï∞ÊçÆÊ∑òÊ±∞ÂØπÁºìÂ≠òÊÄßËÉΩÁöÑÂΩ±Âìç„ÄÇÂÖ∑‰ΩìÊù•ËØ¥Ôºå<code>Redis</code> ÈªòËÆ§‰ºöËÆ∞ÂΩïÊØè‰∏™Êï∞ÊçÆÁöÑÊúÄËøë‰∏ÄÊ¨°ËÆøÈóÆÁöÑÊó∂Èó¥Êà≥ÔºàÁî±ÈîÆÂÄºÂØπÊï∞ÊçÆÁªìÊûÑ <code>RedisObject</code> ‰∏≠ÁöÑ <code>lru</code> Â≠óÊÆµËÆ∞ÂΩïÔºâ„ÄÇÁÑ∂ÂêéÔºå<code>Redis</code> Âú®ÂÜ≥ÂÆöÊ∑òÊ±∞ÁöÑÊï∞ÊçÆÊó∂ÔºåÁ¨¨‰∏ÄÊ¨°‰ºöÈöèÊú∫ÈÄâÂá∫ N ‰∏™Êï∞ÊçÆÔºåÊääÂÆÉ‰ª¨‰Ωú‰∏∫‰∏Ä‰∏™ÂÄôÈÄâÈõÜÂêà„ÄÇÊé•‰∏ãÊù•Ôºå<code>Redis</code> ‰ºöÊØîËæÉËøô N ‰∏™Êï∞ÊçÆÁöÑ <code>lru</code> Â≠óÊÆµÔºåÊää <code>lru</code> Â≠óÊÆµÂÄºÊúÄÂ∞èÁöÑÊï∞ÊçÆ‰ªéÁºìÂ≠ò‰∏≠Ê∑òÊ±∞Âá∫Âéª„ÄÇ</p>
<p><code>Redis</code> Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÈÖçÁΩÆÂèÇÊï∞ <code>maxmemory-samples</code>ÔºåËøô‰∏™ÂèÇÊï∞Â∞±ÊòØ <code>Redis</code> ÈÄâÂá∫ÁöÑÊï∞ÊçÆ‰∏™Êï∞ N„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨ÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÔºåÂèØ‰ª•ËÆ© <code>Redis </code>ÈÄâÂá∫ 100 ‰∏™Êï∞ÊçÆ‰Ωú‰∏∫ÂÄôÈÄâÊï∞ÊçÆÈõÜÔºö</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONFIG SET maxmemory-samples 100</span><br></pre></td></tr></table></figure>

<p>ÂΩìÈúÄË¶ÅÂÜçÊ¨°Ê∑òÊ±∞Êï∞ÊçÆÊó∂Ôºå<code>Redis</code> ÈúÄË¶ÅÊåëÈÄâÊï∞ÊçÆËøõÂÖ•Á¨¨‰∏ÄÊ¨°Ê∑òÊ±∞Êó∂ÂàõÂª∫ÁöÑÂÄôÈÄâÈõÜÂêà„ÄÇËøôÂÑøÁöÑÊåëÈÄâÊ†áÂáÜÊòØÔºö<strong>ËÉΩËøõÂÖ•ÂÄôÈÄâÈõÜÂêàÁöÑÊï∞ÊçÆÁöÑ <code>lru</code> Â≠óÊÆµÂÄºÂøÖÈ°ªÂ∞è‰∫éÂÄôÈÄâÈõÜÂêà‰∏≠ÊúÄÂ∞èÁöÑ <code>lru</code> ÂÄº„ÄÇ</strong>ÂΩìÊúâÊñ∞Êï∞ÊçÆËøõÂÖ•ÂÄôÈÄâÊï∞ÊçÆÈõÜÂêéÔºåÂ¶ÇÊûúÂÄôÈÄâÊï∞ÊçÆÈõÜ‰∏≠ÁöÑÊï∞ÊçÆ‰∏™Êï∞ËææÂà∞‰∫Ü <code>maxmemory-samples</code>Ôºå<code>Redis</code> Â∞±ÊääÂÄôÈÄâÊï∞ÊçÆÈõÜ‰∏≠ <code>lru</code> Â≠óÊÆµÂÄºÊúÄÂ∞èÁöÑÊï∞ÊçÆÊ∑òÊ±∞Âá∫Âéª„ÄÇ</p>
<p><strong>‰∏â‰∏™‰ΩøÁî®Âª∫ËÆÆÔºö</strong></p>
<ul>
<li>‰ºòÂÖà‰ΩøÁî®<code> allkeys-lru</code> Á≠ñÁï•„ÄÇËøôÊ†∑ÔºåÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®<code> LRU</code> Ëøô‰∏ÄÁªèÂÖ∏ÁºìÂ≠òÁÆóÊ≥ïÁöÑ‰ºòÂäøÔºåÊääÊúÄËøëÊúÄÂ∏∏ËÆøÈóÆÁöÑÊï∞ÊçÆÁïôÂú®ÁºìÂ≠ò‰∏≠ÔºåÊèêÂçáÂ∫îÁî®ÁöÑËÆøÈóÆÊÄßËÉΩ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑ‰∏öÂä°Êï∞ÊçÆ‰∏≠ÊúâÊòéÊòæÁöÑÂÜ∑ÁÉ≠Êï∞ÊçÆÂå∫ÂàÜÔºåÊàëÂª∫ËÆÆ‰Ω†‰ΩøÁî® <code>allkeys-lru</code> Á≠ñÁï•„ÄÇ</li>
<li>Â¶ÇÊûú‰∏öÂä°Â∫îÁî®‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆÈ¢ëÁéáÁõ∏Â∑Æ‰∏çÂ§ßÔºåÊ≤°ÊúâÊòéÊòæÁöÑÂÜ∑ÁÉ≠Êï∞ÊçÆÂå∫ÂàÜÔºåÂª∫ËÆÆ‰ΩøÁî® <code>allkeys-random</code> Á≠ñÁï•ÔºåÈöèÊú∫ÈÄâÊã©Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÂ∞±Ë°å„ÄÇ</li>
<li>Â¶ÇÊûú‰Ω†ÁöÑ‰∏öÂä°‰∏≠ÊúâÁΩÆÈ°∂ÁöÑÈúÄÊ±ÇÔºåÊØîÂ¶ÇÁΩÆÈ°∂Êñ∞Èóª„ÄÅÁΩÆÈ°∂ËßÜÈ¢ëÔºåÈÇ£‰πàÔºåÂèØ‰ª•‰ΩøÁî®<code> volatile-lru</code> Á≠ñÁï•ÔºåÂêåÊó∂‰∏çÁªôËøô‰∫õÁΩÆÈ°∂Êï∞ÊçÆËÆæÁΩÆËøáÊúüÊó∂Èó¥„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåËøô‰∫õÈúÄË¶ÅÁΩÆÈ°∂ÁöÑÊï∞ÊçÆ‰∏ÄÁõ¥‰∏ç‰ºöË¢´Âà†Èô§ÔºåËÄåÂÖ∂‰ªñÊï∞ÊçÆ‰ºöÂú®ËøáÊúüÊó∂Ê†πÊçÆ <code>LRU</code> ËßÑÂàôËøõË°åÁ≠õÈÄâ„ÄÇ</li>
</ul>
<h2 id="Â¶Ç‰ΩïÂ§ÑÁêÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÔºü"><a href="#Â¶Ç‰ΩïÂ§ÑÁêÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÔºü" class="headerlink" title="Â¶Ç‰ΩïÂ§ÑÁêÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÔºü"></a>Â¶Ç‰ΩïÂ§ÑÁêÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÔºü</h2><p>‰∏ÄÊó¶Ë¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÈÄâÂÆöÂêéÔºåÂ¶ÇÊûúËøô‰∏™Êï∞ÊçÆÊòØÂπ≤ÂáÄÊï∞ÊçÆÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Áõ¥Êé•Âà†Èô§ÔºõÂ¶ÇÊûúËøô‰∏™Êï∞ÊçÆÊòØËÑèÊï∞ÊçÆÔºåÊàë‰ª¨ÈúÄË¶ÅÊääÂÆÉÂÜôÂõûÊï∞ÊçÆÂ∫ì</p>
<img src="https://static001.geekbang.org/resource/image/95/5e/953e48912yy9515abf9db588d447cc5e.jpg" alt="img" style="zoom:25%;" />

<p><strong>Âπ≤ÂáÄÊï∞ÊçÆÂíåËÑèÊï∞ÊçÆÁöÑÂå∫Âà´</strong>Â∞±Âú®‰∫éÔºåÂíåÊúÄÂàù‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ìÈáåËØªÂèñÊó∂ÁöÑÂÄºÁõ∏ÊØîÔºåÊúâÊ≤°ÊúâË¢´‰øÆÊîπËøá„ÄÇÂπ≤ÂáÄÊï∞ÊçÆ‰∏ÄÁõ¥Ê≤°ÊúâË¢´‰øÆÊîπÔºåÊâÄ‰ª•ÂêéÁ´ØÊï∞ÊçÆÂ∫ìÈáåÁöÑÊï∞ÊçÆ‰πüÊòØÊúÄÊñ∞ÂÄº„ÄÇÂú®ÊõøÊç¢Êó∂ÔºåÂÆÉÂèØ‰ª•Ë¢´Áõ¥Êé•Âà†Èô§„ÄÇ</p>
<p>Ê≥®ÊÑèÔºö<strong>ÂØπ‰∫é <code>Redis</code> Êù•ËØ¥ÔºåÂÆÉÂÜ≥ÂÆö‰∫ÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÂêéÔºå‰ºöÊääÂÆÉ‰ª¨Âà†Èô§„ÄÇÂç≥‰ΩøÊ∑òÊ±∞ÁöÑÊï∞ÊçÆÊòØËÑèÊï∞ÊçÆÔºå<code>Redis</code> ‰πü‰∏ç‰ºöÊääÂÆÉ‰ª¨ÂÜôÂõûÊï∞ÊçÆÂ∫ì„ÄÇ</strong>ÊâÄ‰ª•ÔºåÊàë‰ª¨Âú®‰ΩøÁî® <code>Redis</code> ÁºìÂ≠òÊó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆË¢´‰øÆÊîπ‰∫ÜÔºåÈúÄË¶ÅÂú®Êï∞ÊçÆ‰øÆÊîπÊó∂Â∞±Â∞ÜÂÆÉÂÜôÂõûÊï∞ÊçÆÂ∫ì„ÄÇÂê¶ÂàôÔºåËøô‰∏™ËÑèÊï∞ÊçÆË¢´Ê∑òÊ±∞Êó∂Ôºå‰ºöË¢´ <code>Redis</code> Âà†Èô§ÔºåËÄåÊï∞ÊçÆÂ∫ìÈáå‰πüÊ≤°ÊúâÊúÄÊñ∞ÁöÑÊï∞ÊçÆ‰∫Ü„ÄÇ</p>
<h2 id="ÈóÆÈ¢ò"><a href="#ÈóÆÈ¢ò" class="headerlink" title="ÈóÆÈ¢ò"></a>ÈóÆÈ¢ò</h2><p><code>Redis</code> ÁºìÂ≠òÂú®Â∫îÂØπËÑèÊï∞ÊçÆÊó∂ÔºåÈúÄË¶ÅÂú®Êï∞ÊçÆ‰øÆÊîπÁöÑÂêåÊó∂Ôºå‰πüÊääÂÆÉÂÜôÂõûÊï∞ÊçÆÂ∫ìÔºåÈíàÂØπÊàë‰ª¨‰∏äËäÇËØæ‰ªãÁªçÁöÑÁºìÂ≠òËØªÂÜôÊ®°ÂºèÔºöÂè™ËØªÁºìÂ≠òÔºå‰ª•ÂèäËØªÂÜôÁºìÂ≠ò‰∏≠ÁöÑ‰∏§ÁßçÂÜôÂõûÁ≠ñÁï•ÔºåËØ∑‰Ω†ÊÄùËÄÉ‰∏ãÔºå<code>Redis</code> ÁºìÂ≠òÂØπÂ∫îÂì™‰∏ÄÁßçÊàñÂì™Âá†ÁßçÊ®°ÂºèÔºü</p>
<p>1„ÄÅÂè™ËØªÁºìÂ≠òÊ®°ÂºèÔºöÊØèÊ¨°‰øÆÊîπÁõ¥Êé•ÂÜôÂÖ•ÂêéÁ´ØÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûú<code>Redis</code>ÁºìÂ≠ò‰∏çÂëΩ‰∏≠ÔºåÂàô‰ªÄ‰πàÈÉΩ‰∏çÁî®Êìç‰ΩúÔºåÂ¶ÇÊûú<code>Redis</code>ÁºìÂ≠òÂëΩ‰∏≠ÔºåÂàôÂà†Èô§ÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÔºåÂæÖ‰∏ãÊ¨°ËØªÂèñÊó∂‰ªéÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠Âä†ËΩΩÊúÄÊñ∞ÂÄºÂà∞ÁºìÂ≠ò‰∏≠„ÄÇ</p>
<p>2„ÄÅËØªÂÜôÁºìÂ≠òÊ®°Âºè+ÂêåÊ≠•Áõ¥ÂÜôÁ≠ñÁï•ÔºöÁî±‰∫é<code>Redis</code>Âú®Ê∑òÊ±∞Êï∞ÊçÆÊó∂ÔºåÁõ¥Êé•Âú®ÂÜÖÈÉ®Âà†Èô§ÈîÆÂÄºÂØπÔºåÂ§ñÈÉ®Êó†Ê≥ï‰ªãÂÖ•Â§ÑÁêÜËÑèÊï∞ÊçÆÂÜôÂõûÊï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•‰ΩøÁî®<code>Redis</code>‰ΩúËØªÂÜôÁºìÂ≠òÊó∂ÔºåÂè™ËÉΩÈááÁî®ÂêåÊ≠•Áõ¥ÂÜôÁ≠ñÁï•Ôºå‰øÆÊîπÁºìÂ≠òÁöÑÂêåÊó∂‰πüË¶ÅÂÜôÂÖ•Âà∞ÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠Ôºå‰ªéËÄå‰øùËØÅ‰øÆÊîπÊìç‰Ωú‰∏çË¢´‰∏¢Â§±„ÄÇ‰ΩÜËøôÁßçÊñπÊ°àÂú®Âπ∂ÂèëÂú∫ÊôØ‰∏ã‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ç‰∏ÄËá¥ÔºåÈúÄË¶ÅÂú®ÁâπÂÆö‰∏öÂä°Âú∫ÊôØ‰∏ãÊàñËÄÖÈÖçÂêàÂàÜÂ∏ÉÂºèÈîÅ‰ΩøÁî®„ÄÇ</p>
<h1 id="ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏äÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü"><a href="#ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏äÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü" class="headerlink" title="ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏äÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü"></a>ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏äÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü</h1><h2 id="ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊòØÂ¶Ç‰ΩïÂèëÁîüÁöÑÔºü"><a href="#ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊòØÂ¶Ç‰ΩïÂèëÁîüÁöÑÔºü" class="headerlink" title="ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊòØÂ¶Ç‰ΩïÂèëÁîüÁöÑÔºü"></a>ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊòØÂ¶Ç‰ΩïÂèëÁîüÁöÑÔºü</h2><p>‚Äú‰∏ÄËá¥ÊÄß‚ÄùÂåÖÂê´‰∫Ü‰∏§ÁßçÊÉÖÂÜµÔºö</p>
<ul>
<li>ÁºìÂ≠ò‰∏≠ÊúâÊï∞ÊçÆÔºåÈÇ£‰πàÔºåÁºìÂ≠òÁöÑÊï∞ÊçÆÂÄºÈúÄË¶ÅÂíåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄºÁõ∏ÂêåÔºõ</li>
<li>ÁºìÂ≠ò‰∏≠Êú¨Ë∫´Ê≤°ÊúâÊï∞ÊçÆÔºåÈÇ£‰πàÔºåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄºÂøÖÈ°ªÊòØÊúÄÊñ∞ÂÄº„ÄÇ</li>
</ul>
<p>ÂØπ‰∫éËØªÂÜôÁºìÂ≠òÊù•ËØ¥ÔºåÂ¶ÇÊûúË¶ÅÂØπÊï∞ÊçÆËøõË°åÂ¢ûÂà†ÊîπÔºåÂ∞±ÈúÄË¶ÅÂú®ÁºìÂ≠ò‰∏≠ËøõË°åÔºåÂêåÊó∂ËøòË¶ÅÊ†πÊçÆÈááÂèñÁöÑÂÜôÂõûÁ≠ñÁï•ÔºåÂÜ≥ÂÆöÊòØÂê¶ÂêåÊ≠•ÂÜôÂõûÂà∞Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ</p>
<ul>
<li>ÂêåÊ≠•Áõ¥ÂÜôÁ≠ñÁï•ÔºöÂÜôÁºìÂ≠òÊó∂Ôºå‰πüÂêåÊ≠•ÂÜôÊï∞ÊçÆÂ∫ìÔºåÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆ‰∏ÄËá¥Ôºõ</li>
<li>ÂºÇÊ≠•ÂÜôÂõûÁ≠ñÁï•ÔºöÂÜôÁºìÂ≠òÊó∂‰∏çÂêåÊ≠•ÂÜôÊï∞ÊçÆÂ∫ìÔºåÁ≠âÂà∞Êï∞ÊçÆ‰ªéÁºìÂ≠ò‰∏≠Ê∑òÊ±∞Êó∂ÔºåÂÜçÂÜôÂõûÊï∞ÊçÆÂ∫ì„ÄÇ<strong>‰ΩøÁî®ËøôÁßçÁ≠ñÁï•Êó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆËøòÊ≤°ÊúâÂÜôÂõûÊï∞ÊçÆÂ∫ìÔºåÁºìÂ≠òÂ∞±ÂèëÁîü‰∫ÜÊïÖÈöúÔºåÈÇ£‰πàÔºåÊ≠§Êó∂ÔºåÊï∞ÊçÆÂ∫ìÂ∞±Ê≤°ÊúâÊúÄÊñ∞ÁöÑÊï∞ÊçÆ‰∫Ü„ÄÇ</strong></li>
</ul>
<p>ÊâÄ‰ª•ÔºåÂØπ‰∫éËØªÂÜôÁºìÂ≠òÊù•ËØ¥ÔºåË¶ÅÊÉ≥‰øùËØÅÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÔºåÂ∞±Ë¶ÅÈááÁî®ÂêåÊ≠•Áõ¥ÂÜôÁ≠ñÁï•„ÄÇ‰∏çËøáÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûúÈááÁî®ËøôÁßçÁ≠ñÁï•ÔºåÂ∞±ÈúÄË¶ÅÂêåÊó∂Êõ¥Êñ∞ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨Ë¶ÅÂú®‰∏öÂä°Â∫îÁî®‰∏≠‰ΩøÁî®‰∫ãÂä°Êú∫Âà∂ÔºåÊù•‰øùËØÅÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊõ¥Êñ∞ÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏§ËÄÖË¶Å‰∏ç‰∏ÄËµ∑Êõ¥Êñ∞ÔºåË¶Å‰∏çÈÉΩ‰∏çÊõ¥Êñ∞ÔºåËøîÂõûÈîôËØØ‰ø°ÊÅØÔºåËøõË°åÈáçËØï„ÄÇÂê¶ÂàôÔºåÊàë‰ª¨Â∞±Êó†Ê≥ïÂÆûÁé∞ÂêåÊ≠•Áõ¥ÂÜô„ÄÇ</p>
<p><strong>ÂΩìÁÑ∂ÔºåÂú®Êúâ‰∫õÂú∫ÊôØ‰∏ãÔºåÊàë‰ª¨ÂØπÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑË¶ÅÊ±ÇÂèØËÉΩ‰∏çÊòØÈÇ£‰πàÈ´òÔºåÊØîÂ¶ÇËØ¥ÁºìÂ≠òÁöÑÊòØÁîµÂïÜÂïÜÂìÅÁöÑÈùûÂÖ≥ÈîÆÂ±ûÊÄßÊàñËÄÖÁü≠ËßÜÈ¢ëÁöÑÂàõÂª∫Êàñ‰øÆÊîπÊó∂Èó¥Á≠âÔºåÈÇ£‰πàÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂºÇÊ≠•ÂÜôÂõûÁ≠ñÁï•„ÄÇ</strong></p>
<h3 id="Âè™ËØªÁºìÂ≠ò-1"><a href="#Âè™ËØªÁºìÂ≠ò-1" class="headerlink" title="Âè™ËØªÁºìÂ≠ò"></a>Âè™ËØªÁºìÂ≠ò</h3><p>ÂØπ‰∫éÂè™ËØªÁºìÂ≠òÊù•ËØ¥ÔºåÂ¶ÇÊûúÊúâÊï∞ÊçÆÊñ∞Â¢ûÔºå‰ºöÁõ¥Êé•ÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÔºõËÄåÊúâÊï∞ÊçÆÂà†ÊîπÊó∂ÔºåÂ∞±ÈúÄË¶ÅÊääÂè™ËØªÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÊ†áËÆ∞‰∏∫Êó†Êïà„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂ∫îÁî®ÂêéÁª≠ÂÜçËÆøÈóÆËøô‰∫õÂ¢ûÂà†ÊîπÁöÑÊï∞ÊçÆÊó∂ÔºåÂõ†‰∏∫ÁºìÂ≠ò‰∏≠Ê≤°ÊúâÁõ∏Â∫îÁöÑÊï∞ÊçÆÔºåÂ∞±‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±„ÄÇÊ≠§Êó∂ÔºåÂ∫îÁî®ÂÜç‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊääÊï∞ÊçÆËØªÂÖ•ÁºìÂ≠òÔºåËøôÊ†∑ÂêéÁª≠ÂÜçËÆøÈóÆÊï∞ÊçÆÊó∂ÔºåÂ∞±ËÉΩÂ§üÁõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠ËØªÂèñ‰∫Ü„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/15/dc/15ae0147459ecc46436f35a0f3e5yydc.jpg" alt="img" style="zoom:20%;" />

<p>ÈÇ£‰πàÔºåËøô‰∏™ËøáÁ®ã‰∏≠‰ºö‰∏ç‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµÂë¢Ôºü</p>
<ol>
<li><p><strong>Êñ∞Â¢ûÊï∞ÊçÆ</strong></p>
<p>Â¶ÇÊûúÊòØÊñ∞Â¢ûÊï∞ÊçÆÔºåÊï∞ÊçÆ‰ºöÁõ¥Êé•ÂÜôÂà∞Êï∞ÊçÆÂ∫ì‰∏≠Ôºå‰∏çÁî®ÂØπÁºìÂ≠òÂÅö‰ªª‰ΩïÊìç‰ΩúÔºåÊ≠§Êó∂ÔºåÁºìÂ≠ò‰∏≠Êú¨Ë∫´Â∞±Ê≤°ÊúâÊñ∞Â¢ûÊï∞ÊçÆÔºåËÄåÊï∞ÊçÆÂ∫ì‰∏≠ÊòØÊúÄÊñ∞ÂÄºÔºåËøôÁßçÊÉÖÂÜµÁ¨¶ÂêàÊàë‰ª¨ÂàöÂàöÊâÄËØ¥ÁöÑ‰∏ÄËá¥ÊÄßÁöÑÁ¨¨ 2 ÁßçÊÉÖÂÜµÔºåÊâÄ‰ª•ÔºåÊ≠§Êó∂ÔºåÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ</p>
</li>
<li><p><strong>Âà†ÊîπÊï∞ÊçÆ</strong></p>
<p>Â¶ÇÊûúÂèëÁîüÂà†ÊîπÊìç‰ΩúÔºåÂ∫îÁî®Êó¢Ë¶ÅÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºå‰πüË¶ÅÂú®ÁºìÂ≠ò‰∏≠Âà†Èô§Êï∞ÊçÆ„ÄÇËøô‰∏§‰∏™Êìç‰ΩúÂ¶ÇÊûúÊó†Ê≥ï‰øùËØÅÂéüÂ≠êÊÄßÔºå‰πüÂ∞±ÊòØËØ¥ÔºåË¶Å‰∏çÈÉΩÂÆåÊàêÔºåË¶Å‰∏çÈÉΩÊ≤°ÂÆåÊàêÔºåÊ≠§Êó∂ÔºåÂ∞±‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢ò‰∫Ü„ÄÇ</p>
<ul>
<li><p><strong>Â∫îÁî®ÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì</strong>ÔºöÂ¶ÇÊûúÁºìÂ≠òÂà†Èô§ÊàêÂäüÔºå‰ΩÜÊòØÊï∞ÊçÆÂ∫ìÊõ¥Êñ∞Â§±Ë¥•ÔºåÈÇ£‰πàÔºåÂ∫îÁî®ÂÜçËÆøÈóÆÊï∞ÊçÆÊó∂ÔºåÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊï∞ÊçÆÔºåÂ∞±‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±„ÄÇÁÑ∂ÂêéÔºåÂ∫îÁî®ÂÜçËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄº‰∏∫ÊóßÂÄºÔºåÂ∫îÁî®Â∞±ËÆøÈóÆÂà∞ÊóßÂÄº‰∫Ü„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/b3/ae/b305a6355c9da145e4d1f86d23f4f0ae.jpg" alt="img" style="zoom:20%;" /></li>
<li><p><strong>ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÂà†Èô§ÁºìÂ≠ò‰∏≠ÁöÑÂÄºÔºö</strong> Â¶ÇÊûúÂ∫îÁî®ÂÖàÂÆåÊàê‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÊõ¥Êñ∞Ôºå‰ΩÜÊòØÔºåÂú®Âà†Èô§ÁºìÂ≠òÊó∂Â§±Ë¥•‰∫ÜÔºåÈÇ£‰πàÔºåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄºÊòØÊñ∞ÂÄºÔºåËÄåÁºìÂ≠ò‰∏≠ÁöÑÊòØÊóßÂÄºÔºåËøôËÇØÂÆöÊòØ‰∏ç‰∏ÄËá¥ÁöÑ„ÄÇËøô‰∏™Êó∂ÂÄôÔºåÂ¶ÇÊûúÊúâÂÖ∂‰ªñÁöÑÂπ∂ÂèëËØ∑Ê±ÇÊù•ËÆøÈóÆÊï∞ÊçÆÔºåÊåâÁÖßÊ≠£Â∏∏ÁöÑÁºìÂ≠òËÆøÈóÆÊµÅÁ®ãÔºåÂ∞±‰ºöÂÖàÂú®ÁºìÂ≠ò‰∏≠Êü•ËØ¢Ôºå‰ΩÜÊ≠§Êó∂ÔºåÂ∞±‰ºöËØªÂà∞ÊóßÂÄº‰∫Ü„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/76/77/767b4b2b1bafffd9a4b6368f05930a77.jpg" alt="img" style="zoom:20%;" />

<p><strong>ÊÄªÁªìÔºö</strong></p>
</li>
</ul>
<img src="https://static001.geekbang.org/resource/image/2c/ac/2c376b536aff9d14d8606499f401cdac.jpg" alt="img" style="zoom:25%;" /></li>
</ol>
<h2 id="Â¶Ç‰ΩïËß£ÂÜ≥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü"><a href="#Â¶Ç‰ΩïËß£ÂÜ≥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü" class="headerlink" title="Â¶Ç‰ΩïËß£ÂÜ≥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü"></a>Â¶Ç‰ΩïËß£ÂÜ≥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü</h2><ol>
<li><p><strong>ÈáçËØïÊú∫Âà∂</strong></p>
<p>ÂèØ‰ª•ÊääË¶ÅÂà†Èô§ÁöÑÁºìÂ≠òÂÄºÊàñËÄÖÊòØË¶ÅÊõ¥Êñ∞ÁöÑÊï∞ÊçÆÂ∫ìÂÄºÊöÇÂ≠òÂà∞Ê∂àÊÅØÈòüÂàó‰∏≠Ôºà‰æãÂ¶Ç‰ΩøÁî® Kafka Ê∂àÊÅØÈòüÂàóÔºâ„ÄÇÂΩìÂ∫îÁî®Ê≤°ÊúâËÉΩÂ§üÊàêÂäüÂú∞Âà†Èô§ÁºìÂ≠òÂÄºÊàñËÄÖÊòØÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÊó∂ÔºåÂèØ‰ª•‰ªéÊ∂àÊÅØÈòüÂàó‰∏≠ÈáçÊñ∞ËØªÂèñËøô‰∫õÂÄºÔºåÁÑ∂ÂêéÂÜçÊ¨°ËøõË°åÂà†Èô§ÊàñÊõ¥Êñ∞„ÄÇ</p>
<p>Â¶ÇÊûúËÉΩÂ§üÊàêÂäüÂú∞Âà†Èô§ÊàñÊõ¥Êñ∞ÔºåÊàë‰ª¨Â∞±Ë¶ÅÊääËøô‰∫õÂÄº‰ªéÊ∂àÊÅØÈòüÂàó‰∏≠ÂéªÈô§Ôºå‰ª•ÂÖçÈáçÂ§çÊìç‰ΩúÔºåÊ≠§Êó∂ÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰øùËØÅÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑÊï∞ÊçÆ‰∏ÄËá¥‰∫Ü„ÄÇÂê¶ÂàôÁöÑËØùÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂÜçÊ¨°ËøõË°åÈáçËØï„ÄÇÂ¶ÇÊûúÈáçËØïË∂ÖËøáÁöÑ‰∏ÄÂÆöÊ¨°Êï∞ÔºåËøòÊòØÊ≤°ÊúâÊàêÂäüÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÂêë‰∏öÂä°Â±ÇÂèëÈÄÅÊä•Èîô‰ø°ÊÅØ‰∫Ü„ÄÇ</p>
</li>
</ol>
<p>‰∏ãÂõæÊòæÁ§∫‰∫ÜÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄºÊó∂ÔºåÂ¶ÇÊûúÁºìÂ≠òÂà†Èô§Â§±Ë¥•ÔºåÂÜçÊ¨°ÈáçËØïÂêéÂà†Èô§ÊàêÂäüÁöÑÊÉÖÂÜµÔºå‰Ω†ÂèØ‰ª•Áúã‰∏ã„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/74/ab/74a66b9ce185d7c5b53986fc522dfcab.jpg" alt="img" style="zoom:20%;" />

<p>ÂàöÂàöËØ¥ÁöÑÊòØÂú®Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂíåÂà†Èô§ÁºìÂ≠òÂÄºÁöÑËøáÁ®ã‰∏≠ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Êìç‰ΩúÂ§±Ë¥•ÁöÑÊÉÖÂÜµÔºåÂÆûÈôÖ‰∏äÔºåÂç≥‰ΩøËøô‰∏§‰∏™Êìç‰ΩúÁ¨¨‰∏ÄÊ¨°ÊâßË°åÊó∂ÈÉΩÊ≤°ÊúâÂ§±Ë¥•ÔºåÂΩìÊúâÂ§ßÈáèÂπ∂ÂèëËØ∑Ê±ÇÊó∂ÔºåÂ∫îÁî®ËøòÊòØÊúâÂèØËÉΩËØªÂà∞‰∏ç‰∏ÄËá¥ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<h3 id="ÊÉÖÂÜµ‰∏ÄÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇ"><a href="#ÊÉÖÂÜµ‰∏ÄÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇ" class="headerlink" title="ÊÉÖÂÜµ‰∏ÄÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇ"></a>ÊÉÖÂÜµ‰∏ÄÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇ</h3><p>ÂÅáËÆæÁ∫øÁ®ã A Âà†Èô§ÁºìÂ≠òÂÄºÂêéÔºåËøòÊ≤°ÊúâÊù•ÂæóÂèäÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºàÊØîÂ¶ÇËØ¥ÊúâÁΩëÁªúÂª∂ËøüÔºâÔºåÁ∫øÁ®ã B Â∞±ÂºÄÂßãËØªÂèñÊï∞ÊçÆ‰∫ÜÔºåÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÔºåÁ∫øÁ®ã B ‰ºöÂèëÁé∞ÁºìÂ≠òÁº∫Â§±ÔºåÂ∞±Âè™ËÉΩÂéªÊï∞ÊçÆÂ∫ìËØªÂèñ„ÄÇËøô‰ºöÂ∏¶Êù•‰∏§‰∏™ÈóÆÈ¢òÔºö</p>
<ol>
<li>Á∫øÁ®ã B ËØªÂèñÂà∞‰∫ÜÊóßÂÄºÔºõ</li>
<li>Á∫øÁ®ã B ÊòØÂú®ÁºìÂ≠òÁº∫Â§±ÁöÑÊÉÖÂÜµ‰∏ãËØªÂèñÁöÑÊï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•ÔºåÂÆÉËøò‰ºöÊääÊóßÂÄºÂÜôÂÖ•ÁºìÂ≠òÔºåËøôÂèØËÉΩ‰ºöÂØºËá¥ÂÖ∂‰ªñÁ∫øÁ®ã‰ªéÁºìÂ≠ò‰∏≠ËØªÂà∞ÊóßÂÄº„ÄÇ</li>
</ol>
<p>Á≠âÂà∞Á∫øÁ®ã B ‰ªéÊï∞ÊçÆÂ∫ìËØªÂèñÂÆåÊï∞ÊçÆ„ÄÅÊõ¥Êñ∞‰∫ÜÁºìÂ≠òÂêéÔºåÁ∫øÁ®ã A ÊâçÂºÄÂßãÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÊ≠§Êó∂ÔºåÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÊòØÊóßÂÄºÔºåËÄåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊòØÊúÄÊñ∞ÂÄºÔºå‰∏§ËÄÖÂ∞±‰∏ç‰∏ÄËá¥‰∫Ü„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/85/12/857c2b5449d9a04de6fe93yy1e355c12.jpg" alt="img" style="zoom:20%;" />

<p><strong>Ëß£ÂÜ≥Ôºö</strong> <strong>Âª∂ËøüÂèåÂà†ÔºöÂú®Á∫øÁ®ã A Êõ¥Êñ∞ÂÆåÊï∞ÊçÆÂ∫ìÂÄº‰ª•ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ©ÂÆÉÂÖà sleep ‰∏ÄÂ∞èÊÆµÊó∂Èó¥ÔºåÂÜçËøõË°å‰∏ÄÊ¨°ÁºìÂ≠òÂà†Èô§Êìç‰Ωú„ÄÇ</strong></p>
<p>‰πãÊâÄ‰ª•Ë¶ÅÂä†‰∏ä sleep ÁöÑËøôÊÆµÊó∂Èó¥ÔºåÂ∞±ÊòØ‰∏∫‰∫ÜËÆ©Á∫øÁ®ã B ËÉΩÂ§üÂÖà‰ªéÊï∞ÊçÆÂ∫ìËØªÂèñÊï∞ÊçÆÔºåÂÜçÊääÁº∫Â§±ÁöÑÊï∞ÊçÆÂÜôÂÖ•ÁºìÂ≠òÔºåÁÑ∂ÂêéÔºåÁ∫øÁ®ã A ÂÜçËøõË°åÂà†Èô§„ÄÇÊâÄ‰ª•ÔºåÁ∫øÁ®ã A sleep ÁöÑÊó∂Èó¥ÔºåÂ∞±ÈúÄË¶ÅÂ§ß‰∫éÁ∫øÁ®ã B ËØªÂèñÊï∞ÊçÆÂÜçÂÜôÂÖ•ÁºìÂ≠òÁöÑÊó∂Èó¥„ÄÇËøô‰∏™Êó∂Èó¥ÊÄé‰πàÁ°ÆÂÆöÂë¢ÔºüÂª∫ËÆÆ‰Ω†Âú®‰∏öÂä°Á®ãÂ∫èËøêË°åÁöÑÊó∂ÂÄôÔºåÁªüËÆ°‰∏ãÁ∫øÁ®ãËØªÊï∞ÊçÆÂíåÂÜôÁºìÂ≠òÁöÑÊìç‰ΩúÊó∂Èó¥Ôºå‰ª•Ê≠§‰∏∫Âü∫Á°ÄÊù•ËøõË°å‰º∞ÁÆó„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂÖ∂ÂÆÉÁ∫øÁ®ãËØªÂèñÊï∞ÊçÆÊó∂Ôºå‰ºöÂèëÁé∞ÁºìÂ≠òÁº∫Â§±ÔºåÊâÄ‰ª•‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊúÄÊñ∞ÂÄº„ÄÇÂõ†‰∏∫Ëøô‰∏™ÊñπÊ°à‰ºöÂú®Á¨¨‰∏ÄÊ¨°Âà†Èô§ÁºìÂ≠òÂÄºÂêéÔºåÂª∂Ëøü‰∏ÄÊÆµÊó∂Èó¥ÂÜçÊ¨°ËøõË°åÂà†Èô§ÔºåÊâÄ‰ª•Êàë‰ª¨‰πüÊääÂÆÉÂè´ÂÅö‚ÄúÂª∂ËøüÂèåÂà†‚Äù„ÄÇ</p>
<h3 id="ÊÉÖÂÜµ‰∫åÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄº„ÄÇ"><a href="#ÊÉÖÂÜµ‰∫åÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄº„ÄÇ" class="headerlink" title="ÊÉÖÂÜµ‰∫åÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄº„ÄÇ"></a>ÊÉÖÂÜµ‰∫åÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄº„ÄÇ</h3><p>Â¶ÇÊûúÁ∫øÁ®ã A Âà†Èô§‰∫ÜÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÄºÔºå‰ΩÜËøòÊ≤°Êù•ÂæóÂèäÂà†Èô§ÁºìÂ≠òÂÄºÔºåÁ∫øÁ®ã B Â∞±ÂºÄÂßãËØªÂèñÊï∞ÊçÆ‰∫ÜÔºåÈÇ£‰πàÊ≠§Êó∂ÔºåÁ∫øÁ®ã B Êü•ËØ¢ÁºìÂ≠òÊó∂ÔºåÂèëÁé∞ÁºìÂ≠òÂëΩ‰∏≠ÔºåÂ∞±‰ºöÁõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠ËØªÂèñÊóßÂÄº„ÄÇ‰∏çËøáÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÂÖ∂‰ªñÁ∫øÁ®ãÂπ∂ÂèëËØªÁºìÂ≠òÁöÑËØ∑Ê±Ç‰∏çÂ§öÔºåÈÇ£‰πàÔºåÂ∞±‰∏ç‰ºöÊúâÂæàÂ§öËØ∑Ê±ÇËØªÂèñÂà∞ÊóßÂÄº„ÄÇËÄå‰∏îÔºåÁ∫øÁ®ã A ‰∏ÄËà¨‰πü‰ºöÂæàÂø´Âà†Èô§ÁºìÂ≠òÂÄºÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂÜçÊ¨°ËØªÂèñÊó∂ÔºåÂ∞±‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±ÔºåËøõËÄå‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊúÄÊñ∞ÂÄº„ÄÇÊâÄ‰ª•Ôºå<strong>ËøôÁßçÊÉÖÂÜµÂØπ‰∏öÂä°ÁöÑÂΩ±ÂìçËæÉÂ∞è„ÄÇ</strong></p>
<img src="https://static001.geekbang.org/resource/image/a1/0b/a1c66ee114yyc9f37f2a35f21b46010b.jpg" alt="img" style="zoom:20%;" />

<h2 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h2><img src="https://static001.geekbang.org/resource/image/11/6f/11ae5e620c63de76448bc658fe6a496f.jpg" alt="img" style="zoom: 25%;" />

<p>Âú®Â§ßÂ§öÊï∞‰∏öÂä°Âú∫ÊôØ‰∏ãÔºåÊàë‰ª¨‰ºöÊää <code>Redis</code> ‰Ωú‰∏∫Âè™ËØªÁºìÂ≠ò‰ΩøÁî®„ÄÇÈíàÂØπÂè™ËØªÁºìÂ≠òÊù•ËØ¥ÔºåÊàë‰ª¨Êó¢ÂèØ‰ª•ÂÖàÂà†Èô§ÁºìÂ≠òÂÄºÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºå‰πüÂèØ‰ª•ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÜçÂà†Èô§ÁºìÂ≠ò„ÄÇÊàëÁöÑÂª∫ËÆÆÊòØÔºå‰ºòÂÖà‰ΩøÁî®ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÜçÂà†Èô§ÁºìÂ≠òÁöÑÊñπÊ≥ïÔºåÂéüÂõ†‰∏ªË¶ÅÊúâ‰∏§‰∏™Ôºö</p>
<ol>
<li>ÂÖàÂà†Èô§ÁºìÂ≠òÂÄºÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÊúâÂèØËÉΩÂØºËá¥ËØ∑Ê±ÇÂõ†ÁºìÂ≠òÁº∫Â§±ËÄåËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÁªôÊï∞ÊçÆÂ∫ìÂ∏¶Êù•ÂéãÂäõÔºõ</li>
<li>Â¶ÇÊûú‰∏öÂä°Â∫îÁî®‰∏≠ËØªÂèñÊï∞ÊçÆÂ∫ìÂíåÂÜôÁºìÂ≠òÁöÑÊó∂Èó¥‰∏çÂ•Ω‰º∞ÁÆóÔºåÈÇ£‰πàÔºåÂª∂ËøüÂèåÂà†‰∏≠ÁöÑÁ≠âÂæÖÊó∂Èó¥Â∞±‰∏çÂ•ΩËÆæÁΩÆ„ÄÇ</li>
</ol>
<p>‰∏çËøáÔºåÂΩì‰ΩøÁî®ÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÜçÂà†Èô§ÁºìÂ≠òÊó∂Ôºå‰πüÊúâ‰∏™Âú∞ÊñπÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ¶ÇÊûú‰∏öÂä°Â±ÇË¶ÅÊ±ÇÂøÖÈ°ªËØªÂèñ‰∏ÄËá¥ÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅÂú®Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÊó∂ÔºåÂÖàÂú® <code>Redis</code> ÁºìÂ≠òÂÆ¢Êà∑Á´ØÊöÇÂ≠òÂπ∂ÂèëËØªËØ∑Ê±ÇÔºåÁ≠âÊï∞ÊçÆÂ∫ìÊõ¥Êñ∞ÂÆå„ÄÅÁºìÂ≠òÂÄºÂà†Èô§ÂêéÔºåÂÜçËØªÂèñÊï∞ÊçÆÔºå‰ªéËÄå‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß„ÄÇ</p>
<h2 id="ÈóÆÈ¢ò-1"><a href="#ÈóÆÈ¢ò-1" class="headerlink" title="ÈóÆÈ¢ò"></a>ÈóÆÈ¢ò</h2><p>Âú®Âè™ËØªÁºìÂ≠ò‰∏≠ËøõË°åÊï∞ÊçÆÁöÑÂà†ÊîπÊìç‰ΩúÊó∂ÔºåÈúÄË¶ÅÂú®ÁºìÂ≠ò‰∏≠Âà†Èô§Áõ∏Â∫îÁöÑÁºìÂ≠òÂÄº„ÄÇÊàëÊÉ≥ËØ∑‰Ω†ÊÄùËÄÉ‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨‰∏çÊòØÂà†Èô§ÁºìÂ≠òÂÄºÔºåËÄåÊòØÁõ¥Êé•Êõ¥Êñ∞ÁºìÂ≠òÁöÑÂÄºÔºå‰Ω†ËßâÂæóÂíåÂà†Èô§ÁºìÂ≠òÂÄºÁõ∏ÊØîÔºåÊúâ‰ªÄ‰πàÂ•ΩÂ§ÑÂíå‰∏çË∂≥ÂêóÔºü</p>
<p>ËøôÁßçÊÉÖÂÜµÁõ∏ÂΩì‰∫éÊää<code>Redis</code>ÂΩìÂÅöËØªÂÜôÁºìÂ≠ò‰ΩøÁî®ÔºåÂà†ÊîπÊìç‰ΩúÂêåÊó∂Êìç‰ΩúÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò„ÄÇ</p>
<p>1„ÄÅÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÊõ¥Êñ∞ÁºìÂ≠òÔºöÂ¶ÇÊûúÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÊàêÂäüÔºå‰ΩÜÁºìÂ≠òÊõ¥Êñ∞Â§±Ë¥•ÔºåÊ≠§Êó∂Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÊúÄÊñ∞ÂÄºÔºå‰ΩÜÁºìÂ≠ò‰∏≠ÊòØÊóßÂÄºÔºåÂêéÁª≠ÁöÑËØªËØ∑Ê±Ç‰ºöÁõ¥Êé•ÂëΩ‰∏≠ÁºìÂ≠òÔºåÂæóÂà∞ÁöÑÊòØÊóßÂÄº„ÄÇ</p>
<p>2„ÄÅÂÖàÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºöÂ¶ÇÊûúÊõ¥Êñ∞ÁºìÂ≠òÊàêÂäüÔºå‰ΩÜÊï∞ÊçÆÂ∫ìÊõ¥Êñ∞Â§±Ë¥•ÔºåÊ≠§Êó∂ÁºìÂ≠ò‰∏≠ÊòØÊúÄÊñ∞ÂÄºÔºåÊï∞ÊçÆÂ∫ì‰∏≠ÊòØÊóßÂÄºÔºåÂêéÁª≠ËØªËØ∑Ê±Ç‰ºöÁõ¥Êé•ÂëΩ‰∏≠ÁºìÂ≠òÔºå‰ΩÜÂæóÂà∞ÁöÑÊòØÊúÄÊñ∞ÂÄºÔºåÁü≠ÊúüÂØπ‰∏öÂä°ÂΩ±Âìç‰∏çÂ§ß„ÄÇ‰ΩÜÊòØÔºå‰∏ÄÊó¶ÁºìÂ≠òËøáÊúüÊàñËÄÖÊª°ÂÆπÂêéË¢´Ê∑òÊ±∞ÔºåËØªËØ∑Ê±ÇÂ∞±‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÈáçÊñ∞Âä†ËΩΩÊóßÂÄºÂà∞ÁºìÂ≠ò‰∏≠Ôºå‰πãÂêéÁöÑËØªËØ∑Ê±Ç‰ºö‰ªéÁºìÂ≠ò‰∏≠ÂæóÂà∞ÊóßÂÄºÔºåÂØπ‰∏öÂä°‰∫ßÁîüÂΩ±Âìç„ÄÇ</p>
<p>ÂêåÊ†∑Âú∞ÔºåÈíàÂØπËøôÁßçÂÖ∂‰∏≠‰∏Ä‰∏™Êìç‰ΩúÂèØËÉΩÂ§±Ë¥•ÁöÑÊÉÖÂÜµÔºå‰πüÂèØ‰ª•‰ΩøÁî®ÈáçËØïÊú∫Âà∂Ëß£ÂÜ≥ÔºåÊääÁ¨¨‰∫åÊ≠•Êìç‰ΩúÊîæÂÖ•Âà∞Ê∂àÊÅØÈòüÂàó‰∏≠ÔºåÊ∂àË¥πËÄÖ‰ªéÊ∂àÊÅØÈòüÂàóÂèñÂá∫Ê∂àÊÅØÔºåÂÜçÊõ¥Êñ∞ÁºìÂ≠òÊàñÊï∞ÊçÆÂ∫ìÔºåÊàêÂäüÂêéÊääÊ∂àÊÅØ‰ªéÊ∂àÊÅØÈòüÂàóÂà†Èô§ÔºåÂê¶ÂàôËøõË°åÈáçËØïÔºå‰ª•Ê≠§ËææÂà∞Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑÊúÄÁªà‰∏ÄËá¥„ÄÇ</p>
<p>‰ª•‰∏äÊòØÊ≤°ÊúâÂπ∂ÂèëËØ∑Ê±ÇÁöÑÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÂ≠òÂú®Âπ∂ÂèëËØªÂÜôÔºå‰πü‰ºö‰∫ßÁîü‰∏ç‰∏ÄËá¥ÔºåÂàÜ‰∏∫‰ª•‰∏ã4ÁßçÂú∫ÊôØ„ÄÇ</p>
<p>1„ÄÅÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜô+ËØªÂπ∂ÂèëÔºöÁ∫øÁ®ãAÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºå‰πãÂêéÁ∫øÁ®ãBËØªÂèñÊï∞ÊçÆÔºåÊ≠§Êó∂Á∫øÁ®ãB‰ºöÂëΩ‰∏≠ÁºìÂ≠òÔºåËØªÂèñÂà∞ÊóßÂÄºÔºå‰πãÂêéÁ∫øÁ®ãAÊõ¥Êñ∞ÁºìÂ≠òÊàêÂäüÔºåÂêéÁª≠ÁöÑËØªËØ∑Ê±Ç‰ºöÂëΩ‰∏≠ÁºìÂ≠òÂæóÂà∞ÊúÄÊñ∞ÂÄº„ÄÇËøôÁßçÂú∫ÊôØ‰∏ãÔºåÁ∫øÁ®ãAÊú™Êõ¥Êñ∞ÂÆåÁºìÂ≠ò‰πãÂâçÔºåÂú®ËøôÊúüÈó¥ÁöÑËØªËØ∑Ê±Ç‰ºöÁü≠ÊöÇËØªÂà∞ÊóßÂÄºÔºåÂØπ‰∏öÂä°Áü≠ÊöÇÂΩ±Âìç„ÄÇ</p>
<p>2„ÄÅÂÖàÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜô+ËØªÂπ∂ÂèëÔºöÁ∫øÁ®ãAÂÖàÊõ¥Êñ∞ÁºìÂ≠òÊàêÂäüÔºå‰πãÂêéÁ∫øÁ®ãBËØªÂèñÊï∞ÊçÆÔºåÊ≠§Êó∂Á∫øÁ®ãBÂëΩ‰∏≠ÁºìÂ≠òÔºåËØªÂèñÂà∞ÊúÄÊñ∞ÂÄºÂêéËøîÂõûÔºå‰πãÂêéÁ∫øÁ®ãAÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÊàêÂäü„ÄÇËøôÁßçÂú∫ÊôØ‰∏ãÔºåËôΩÁÑ∂Á∫øÁ®ãAËøòÊú™Êõ¥Êñ∞ÂÆåÊï∞ÊçÆÂ∫ìÔºåÊï∞ÊçÆÂ∫ì‰ºö‰∏éÁºìÂ≠òÂ≠òÂú®Áü≠ÊöÇ‰∏ç‰∏ÄËá¥Ôºå‰ΩÜÂú®Ëøô‰πãÂâçËøõÊù•ÁöÑËØªËØ∑Ê±ÇÈÉΩËÉΩÁõ¥Êé•ÂëΩ‰∏≠ÁºìÂ≠òÔºåËé∑ÂèñÂà∞ÊúÄÊñ∞ÂÄºÔºåÊâÄ‰ª•ÂØπ‰∏öÂä°Ê≤°ÂΩ±Âìç„ÄÇ</p>
<p>3„ÄÅÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜô+ÂÜôÂπ∂ÂèëÔºöÁ∫øÁ®ãAÂíåÁ∫øÁ®ãBÂêåÊó∂Êõ¥Êñ∞Âêå‰∏ÄÊù°Êï∞ÊçÆÔºåÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁöÑÈ°∫Â∫èÊòØÂÖàAÂêéBÔºå‰ΩÜÊõ¥Êñ∞ÁºìÂ≠òÊó∂È°∫Â∫èÊòØÂÖàBÂêéAÔºåËøô‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p>4„ÄÅÂÖàÊõ¥Êñ∞ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜô+ÂÜôÂπ∂ÂèëÔºö‰∏éÂú∫ÊôØ3Á±ª‰ººÔºåÁ∫øÁ®ãAÂíåÁ∫øÁ®ãBÂêåÊó∂Êõ¥Êñ∞Âêå‰∏ÄÊù°Êï∞ÊçÆÔºåÊõ¥Êñ∞ÁºìÂ≠òÁöÑÈ°∫Â∫èÊòØÂÖàAÂêéBÔºå‰ΩÜÊòØÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁöÑÈ°∫Â∫èÊòØÂÖàBÂêéAÔºåËøô‰πü‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p>Âú∫ÊôØ1Âíå2ÂØπ‰∏öÂä°ÂΩ±ÂìçËæÉÂ∞èÔºåÂú∫ÊôØ3Âíå4‰ºöÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò‰∏ç‰∏ÄËá¥ÔºåÂΩ±ÂìçËæÉÂ§ß„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂú®ËØªÂÜôÁºìÂ≠òÊ®°Âºè‰∏ãÔºåÂÜô+ËØªÂπ∂ÂèëÂØπ‰∏öÂä°ÁöÑÂΩ±ÂìçËæÉÂ∞èÔºåËÄåÂÜô+ÂÜôÂπ∂ÂèëÊó∂Ôºå‰ºöÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p>ÈíàÂØπÂú∫ÊôØ3Âíå4ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÔºåÂØπ‰∫éÂÜôËØ∑Ê±ÇÔºåÈúÄË¶ÅÈÖçÂêàÂàÜÂ∏ÉÂºèÈîÅ‰ΩøÁî®„ÄÇÂÜôËØ∑Ê±ÇËøõÊù•Êó∂ÔºåÈíàÂØπÂêå‰∏Ä‰∏™ËµÑÊ∫êÁöÑ‰øÆÊîπÊìç‰ΩúÔºåÂÖàÂä†ÂàÜÂ∏ÉÂºèÈîÅÔºåËøôÊ†∑Âêå‰∏ÄÊó∂Èó¥Âè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÂéªÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÔºåÊ≤°ÊúâÊãøÂà∞ÈîÅÁöÑÁ∫øÁ®ãÊääÊìç‰ΩúÊîæÂÖ•Âà∞ÈòüÂàó‰∏≠ÔºåÂª∂Êó∂Â§ÑÁêÜ„ÄÇÁî®ËøôÁßçÊñπÂºè‰øùËØÅÂ§ö‰∏™Á∫øÁ®ãÊìç‰ΩúÂêå‰∏ÄËµÑÊ∫êÁöÑÈ°∫Â∫èÊÄßÔºå‰ª•Ê≠§‰øùËØÅ‰∏ÄËá¥ÊÄß„ÄÇ</p>
<p>Áªº‰∏äÔºå‰ΩøÁî®ËØªÂÜôÁºìÂ≠òÂêåÊó∂Êìç‰ΩúÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÊó∂ÔºåÂõ†‰∏∫ÂÖ∂‰∏≠‰∏Ä‰∏™Êìç‰ΩúÂ§±Ë¥•ÂØºËá¥‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢òÔºåÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáÊ∂àÊÅØÈòüÂàóÈáçËØïÊù•Ëß£ÂÜ≥„ÄÇËÄåÂú®Âπ∂ÂèëÁöÑÂú∫ÊôØ‰∏ãÔºåËØª+ÂÜôÂπ∂ÂèëÂØπ‰∏öÂä°Ê≤°ÊúâÂΩ±ÂìçÊàñËÄÖÂΩ±ÂìçËæÉÂ∞èÔºåËÄåÂÜô+ÂÜôÂπ∂ÂèëÊó∂ÈúÄË¶ÅÈÖçÂêàÂàÜÂ∏ÉÂºèÈîÅÁöÑ‰ΩøÁî®ÔºåÊâçËÉΩ‰øùËØÅÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ</p>
<p>Âè¶Â§ñÔºåËØªÂÜôÁºìÂ≠òÊ®°ÂºèÁî±‰∫é‰ºöÂêåÊó∂Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÔºå‰ºòÁÇπÊòØÔºåÁºìÂ≠ò‰∏≠‰∏ÄÁõ¥‰ºöÊúâÊï∞ÊçÆÔºåÂ¶ÇÊûúÊõ¥Êñ∞Êìç‰ΩúÂêé‰ºöÁ´ãÂç≥ÂÜçÊ¨°ËÆøÈóÆÔºåÂèØ‰ª•Áõ¥Êé•ÂëΩ‰∏≠ÁºìÂ≠òÔºåËÉΩÂ§üÈôç‰ΩéËØªËØ∑Ê±ÇÂØπ‰∫éÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºàÊ≤°Êúâ‰∫ÜÂè™ËØªÁºìÂ≠òÁöÑÂà†Èô§ÁºìÂ≠òÂØºËá¥ÁºìÂ≠òÁº∫Â§±ÂíåÂÜçÂä†ËΩΩÁöÑËøáÁ®ãÔºâ„ÄÇÁº∫ÁÇπÊòØÔºåÂ¶ÇÊûúÊõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÔºå‰πãÂêéÂæàÂ∞ëÂÜçË¢´ËÆøÈóÆÂà∞Ôºå‰ºöÂØºËá¥ÁºìÂ≠ò‰∏≠‰øùÁïôÁöÑ‰∏çÊòØÊúÄÁÉ≠ÁöÑÊï∞ÊçÆÔºåÁºìÂ≠òÂà©Áî®Áéá‰∏çÈ´òÔºàÂè™ËØªÁºìÂ≠ò‰∏≠‰øùÁïôÁöÑÈÉΩÊòØÁÉ≠Êï∞ÊçÆÔºâÔºåÊâÄ‰ª•ËØªÂÜôÁºìÂ≠òÊØîËæÉÈÄÇÂêàÁî®‰∫éËØªÂÜôÁõ∏ÂΩìÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ</p>
<h1 id="ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏ãÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÈõ™Â¥©„ÄÅÂáªÁ©ø„ÄÅÁ©øÈÄèÈöæÈ¢òÔºü"><a href="#ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏ãÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÈõ™Â¥©„ÄÅÂáªÁ©ø„ÄÅÁ©øÈÄèÈöæÈ¢òÔºü" class="headerlink" title="ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏ãÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÈõ™Â¥©„ÄÅÂáªÁ©ø„ÄÅÁ©øÈÄèÈöæÈ¢òÔºü"></a>ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏ãÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÈõ™Â¥©„ÄÅÂáªÁ©ø„ÄÅÁ©øÈÄèÈöæÈ¢òÔºü</h1><h2 id="ÁºìÂ≠òÈõ™Â¥©"><a href="#ÁºìÂ≠òÈõ™Â¥©" class="headerlink" title="ÁºìÂ≠òÈõ™Â¥©"></a>ÁºìÂ≠òÈõ™Â¥©</h2><p>ÁºìÂ≠òÈõ™Â¥©ÊòØÊåáÂ§ßÈáèÁöÑÂ∫îÁî®ËØ∑Ê±ÇÊó†Ê≥ïÂú® <code>Redis</code>ÁºìÂ≠ò‰∏≠ËøõË°åÂ§ÑÁêÜÔºåÁ¥ßÊé•ÁùÄÔºåÂ∫îÁî®Â∞ÜÂ§ßÈáèËØ∑Ê±ÇÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÂ±ÇÁöÑÂéãÂäõÊøÄÂ¢û„ÄÇ</p>
<ul>
<li><p><strong>Á¨¨‰∏Ä‰∏™ÂéüÂõ†ÊòØÔºöÁºìÂ≠ò‰∏≠ÊúâÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂ËøáÊúüÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÊó†Ê≥ïÂæóÂà∞Â§ÑÁêÜ„ÄÇ</strong>ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂΩìÊï∞ÊçÆ‰øùÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÔºåÂπ∂‰∏îËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥Êó∂ÔºåÂ¶ÇÊûúÂú®Êüê‰∏Ä‰∏™Êó∂ÂàªÔºåÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂ËøáÊúüÔºåÊ≠§Êó∂ÔºåÂ∫îÁî®ÂÜçËÆøÈóÆËøô‰∫õÊï∞ÊçÆÁöÑËØùÔºåÂ∞±‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±„ÄÇÁ¥ßÊé•ÁùÄÔºåÂ∫îÁî®Â∞±‰ºöÊääËØ∑Ê±ÇÂèëÈÄÅÁªôÊï∞ÊçÆÂ∫ìÔºå‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÂ∫îÁî®ÁöÑÂπ∂ÂèëËØ∑Ê±ÇÈáèÂæàÂ§ßÔºåÈÇ£‰πàÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõ‰πüÂ∞±ÂæàÂ§ßÔºåËøô‰ºöËøõ‰∏ÄÊ≠•ÂΩ±ÂìçÂà∞Êï∞ÊçÆÂ∫ìÁöÑÂÖ∂‰ªñÊ≠£Â∏∏‰∏öÂä°ËØ∑Ê±ÇÂ§ÑÁêÜ„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/74/2e/74bb1aa4b2213e3ff29e2ee701e8f72e.jpg" alt="img" style="zoom:20%;" /></li>
</ul>
<p><strong>Ëß£ÂÜ≥ÊñπÊ°àÔºö</strong> </p>
<ul>
<li><p>È¶ñÂÖàÔºå<strong>Êàë‰ª¨ÂèØ‰ª•ÈÅøÂÖçÁªôÂ§ßÈáèÁöÑÊï∞ÊçÆËÆæÁΩÆÁõ∏ÂêåÁöÑËøáÊúüÊó∂Èó¥</strong>„ÄÇÂ¶ÇÊûú‰∏öÂä°Â±ÇÁöÑÁ°ÆË¶ÅÊ±ÇÊúâ‰∫õÊï∞ÊçÆÂêåÊó∂Â§±ÊïàÔºå‰Ω†ÂèØ‰ª•Âú®Áî® EXPIRE ÂëΩ‰ª§ÁªôÊØè‰∏™Êï∞ÊçÆËÆæÁΩÆËøáÊúüÊó∂Èó¥Êó∂ÔºåÁªôËøô‰∫õÊï∞ÊçÆÁöÑËøáÊúüÊó∂Èó¥Â¢ûÂä†‰∏Ä‰∏™ËæÉÂ∞èÁöÑÈöèÊú∫Êï∞Ôºà‰æãÂ¶ÇÔºåÈöèÊú∫Â¢ûÂä† 1~3 ÂàÜÈíüÔºâÔºåËøôÊ†∑‰∏ÄÊù•Ôºå‰∏çÂêåÊï∞ÊçÆÁöÑËøáÊúüÊó∂Èó¥ÊúâÊâÄÂ∑ÆÂà´Ôºå‰ΩÜÂ∑ÆÂà´Âèà‰∏ç‰ºöÂ§™Â§ßÔºåÊó¢ÈÅøÂÖç‰∫ÜÂ§ßÈáèÊï∞ÊçÆÂêåÊó∂ËøáÊúüÔºåÂêåÊó∂‰πü‰øùËØÅ‰∫ÜËøô‰∫õÊï∞ÊçÆÂü∫Êú¨Âú®Áõ∏ËøëÁöÑÊó∂Èó¥Â§±ÊïàÔºå‰ªçÁÑ∂ËÉΩÊª°Ë∂≥‰∏öÂä°ÈúÄÊ±Ç„ÄÇ</p>
</li>
<li><p><strong>ÊúçÂä°ÈôçÁ∫ßÔºö</strong> </p>
<ul>
<li>ÂΩì‰∏öÂä°Â∫îÁî®ËÆøÈóÆÁöÑÊòØÈùûÊ†∏ÂøÉÊï∞ÊçÆÔºà‰æãÂ¶ÇÁîµÂïÜÂïÜÂìÅÂ±ûÊÄßÔºâÊó∂ÔºåÊöÇÊó∂ÂÅúÊ≠¢‰ªéÁºìÂ≠ò‰∏≠Êü•ËØ¢Ëøô‰∫õÊï∞ÊçÆÔºåËÄåÊòØÁõ¥Êé•ËøîÂõûÈ¢ÑÂÆö‰πâ‰ø°ÊÅØ„ÄÅÁ©∫ÂÄºÊàñÊòØÈîôËØØ‰ø°ÊÅØÔºõ</li>
<li>ÂΩì‰∏öÂä°Â∫îÁî®ËÆøÈóÆÁöÑÊòØÊ†∏ÂøÉÊï∞ÊçÆÔºà‰æãÂ¶ÇÁîµÂïÜÂïÜÂìÅÂ∫ìÂ≠òÔºâÊó∂Ôºå‰ªçÁÑ∂ÂÖÅËÆ∏Êü•ËØ¢ÁºìÂ≠òÔºåÂ¶ÇÊûúÁºìÂ≠òÁº∫Â§±Ôºå‰πüÂèØ‰ª•ÁªßÁª≠ÈÄöËøáÊï∞ÊçÆÂ∫ìËØªÂèñ„ÄÇ</li>
</ul>
<p>ËøôÊ†∑‰∏ÄÊù•ÔºåÂè™ÊúâÈÉ®ÂàÜËøáÊúüÊï∞ÊçÆÁöÑËØ∑Ê±Ç‰ºöÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìÔºåÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÂ∞±Ê≤°ÊúâÈÇ£‰πàÂ§ß‰∫Ü</p>
<p>‚Äã    <img src="https://static001.geekbang.org/resource/image/4a/a8/4ab3be5ba24cf172879e6b2cff649ca8.jpg" alt="img" style="zoom:20%;" /></p>
</li>
<li><p><strong>Á¨¨‰∫å‰∏™ÂéüÂõ†Ôºö<code>Redis</code> ÁºìÂ≠òÂÆû‰æãÂèëÁîüÊïÖÈöúÂÆïÊú∫‰∫ÜÔºåÊó†Ê≥ïÂ§ÑÁêÜËØ∑Ê±ÇÔºåËøôÂ∞±‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±Ç‰∏Ä‰∏ãÂ≠êÁßØÂéãÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºå‰ªéËÄåÂèëÁîüÁºìÂ≠òÈõ™Â¥©„ÄÇ</strong></p>
<p>‰∏ÄËà¨Êù•ËØ¥Ôºå‰∏Ä‰∏™ <code>Redis</code> ÂÆû‰æãÂèØ‰ª•ÊîØÊåÅÊï∞‰∏áÁ∫ßÂà´ÁöÑËØ∑Ê±ÇÂ§ÑÁêÜÂêûÂêêÈáèÔºåËÄåÂçï‰∏™Êï∞ÊçÆÂ∫ìÂèØËÉΩÂè™ËÉΩÊîØÊåÅÊï∞ÂçÉÁ∫ßÂà´ÁöÑËØ∑Ê±ÇÂ§ÑÁêÜÂêûÂêêÈáèÔºåÂÆÉ‰ª¨‰∏§‰∏™ÁöÑÂ§ÑÁêÜËÉΩÂäõÂèØËÉΩÁõ∏Â∑Æ‰∫ÜËøëÂçÅÂÄç„ÄÇÁî±‰∫éÁºìÂ≠òÈõ™Â¥©Ôºå<code>Redis</code> ÁºìÂ≠òÂ§±ÊïàÔºåÊâÄ‰ª•ÔºåÊï∞ÊçÆÂ∫ìÂ∞±ÂèØËÉΩË¶ÅÊâøÂèóËøëÂçÅÂÄçÁöÑËØ∑Ê±ÇÂéãÂäõÔºå‰ªéËÄåÂõ†‰∏∫ÂéãÂäõËøáÂ§ßËÄåÂ¥©Ê∫É„ÄÇ</p>
</li>
</ul>
<p><strong>Ëß£ÂÜ≥ÊñπÊ°àÔºö</strong></p>
<ul>
<li><p><strong>Âú®‰∏öÂä°Á≥ªÁªü‰∏≠ÂÆûÁé∞ÊúçÂä°ÁÜîÊñ≠ÊàñËØ∑Ê±ÇÈôêÊµÅÊú∫Âà∂„ÄÇ</strong></p>
<ul>
<li><p>ÊúçÂä°ÁÜîÊñ≠ÔºåÊòØÊåáÂú®ÂèëÁîüÁºìÂ≠òÈõ™Â¥©Êó∂Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢ÂºïÂèëËøûÈîÅÁöÑÊï∞ÊçÆÂ∫ìÈõ™Â¥©ÔºåÁîöËá≥ÊòØÊï¥‰∏™Á≥ªÁªüÁöÑÂ¥©Ê∫ÉÔºåÊàë‰ª¨ÊöÇÂÅú‰∏öÂä°Â∫îÁî®ÂØπÁºìÂ≠òÁ≥ªÁªüÁöÑÊé•Âè£ËÆøÈóÆ„ÄÇÂÜçÂÖ∑‰ΩìÁÇπËØ¥ÔºåÂ∞±ÊòØ‰∏öÂä°Â∫îÁî®Ë∞ÉÁî®ÁºìÂ≠òÊé•Âè£Êó∂ÔºåÁºìÂ≠òÂÆ¢Êà∑Á´ØÂπ∂‰∏çÊääËØ∑Ê±ÇÂèëÁªô <code>Redis</code> ÁºìÂ≠òÂÆû‰æãÔºåËÄåÊòØÁõ¥Êé•ËøîÂõûÔºåÁ≠âÂà∞ <code>Redis</code> ÁºìÂ≠òÂÆû‰æãÈáçÊñ∞ÊÅ¢Â§çÊúçÂä°ÂêéÔºåÂÜçÂÖÅËÆ∏Â∫îÁî®ËØ∑Ê±ÇÂèëÈÄÅÂà∞ÁºìÂ≠òÁ≥ªÁªü„ÄÇ</p>
<p>Âú®‰∏öÂä°Á≥ªÁªüËøêË°åÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÁõëÊµã <code>Redis</code> ÁºìÂ≠òÊâÄÂú®Êú∫Âô®ÂíåÊï∞ÊçÆÂ∫ìÊâÄÂú®Êú∫Âô®ÁöÑË¥üËΩΩÊåáÊ†áÔºå‰æãÂ¶ÇÊØèÁßíËØ∑Ê±ÇÊï∞„ÄÅCPU Âà©Áî®Áéá„ÄÅÂÜÖÂ≠òÂà©Áî®ÁéáÁ≠â„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÂèëÁé∞ <code>Redis</code> ÁºìÂ≠òÂÆû‰æãÂÆïÊú∫‰∫ÜÔºåËÄåÊï∞ÊçÆÂ∫ìÊâÄÂú®Êú∫Âô®ÁöÑË¥üËΩΩÂéãÂäõÁ™ÅÁÑ∂Â¢ûÂä†Ôºà‰æãÂ¶ÇÊØèÁßíËØ∑Ê±ÇÊï∞ÊøÄÂ¢ûÔºâÔºåÊ≠§Êó∂ÔºåÂ∞±ÂèëÁîüÁºìÂ≠òÈõ™Â¥©‰∫Ü„ÄÇÂ§ßÈáèËØ∑Ê±ÇË¢´ÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìËøõË°åÂ§ÑÁêÜ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂêØÂä®ÊúçÂä°ÁÜîÊñ≠Êú∫Âà∂ÔºåÊöÇÂÅú‰∏öÂä°Â∫îÁî®ÂØπÁºìÂ≠òÊúçÂä°ÁöÑËÆøÈóÆÔºå‰ªéËÄåÈôç‰ΩéÂØπÊï∞ÊçÆÂ∫ìÁöÑËÆøÈóÆÂéãÂäõÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>
<img src="https://static001.geekbang.org/resource/image/17/b5/17d39f6233c3332161c588b42eccaeb5.jpg" alt="img" style="zoom:20%;" />

<p><strong>Áº∫ÁÇπÔºö</strong>ÊúçÂä°ÁÜîÊñ≠ËôΩÁÑ∂ÂèØ‰ª•‰øùËØÅÊï∞ÊçÆÂ∫ìÁöÑÊ≠£Â∏∏ËøêË°åÔºå‰ΩÜÊòØÊöÇÂÅú‰∫ÜÊï¥‰∏™ÁºìÂ≠òÁ≥ªÁªüÁöÑËÆøÈóÆÔºåÂØπ‰∏öÂä°Â∫îÁî®ÁöÑÂΩ±ÂìçËåÉÂõ¥Â§ß„ÄÇ‰∏∫‰∫ÜÂ∞ΩÂèØËÉΩÂáèÂ∞ëËøôÁßçÂΩ±ÂìçÔºåÊàë‰ª¨‰πüÂèØ‰ª•ËøõË°åËØ∑Ê±ÇÈôêÊµÅ„ÄÇ</p>
</li>
<li><p>ËØ∑Ê±ÇÈôêÊµÅÔºåÂ∞±ÊòØÊåáÔºåÊàë‰ª¨Âú®‰∏öÂä°Á≥ªÁªüÁöÑËØ∑Ê±ÇÂÖ•Âè£ÂâçÁ´ØÊéßÂà∂ÊØèÁßíËøõÂÖ•Á≥ªÁªüÁöÑËØ∑Ê±ÇÊï∞ÔºåÈÅøÂÖçËøáÂ§öÁöÑËØ∑Ê±ÇË¢´ÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ì„ÄÇ</p>
<p>ÂÅáËÆæ‰∏öÂä°Á≥ªÁªüÊ≠£Â∏∏ËøêË°åÊó∂ÔºåËØ∑Ê±ÇÂÖ•Âè£ÂâçÁ´ØÂÖÅËÆ∏ÊØèÁßíËøõÂÖ•Á≥ªÁªüÁöÑËØ∑Ê±ÇÊòØ 1 ‰∏á‰∏™ÔºåÂÖ∂‰∏≠Ôºå9000 ‰∏™ËØ∑Ê±ÇÈÉΩËÉΩÂú®ÁºìÂ≠òÁ≥ªÁªü‰∏≠ËøõË°åÂ§ÑÁêÜÔºåÂè™Êúâ 1000 ‰∏™ËØ∑Ê±Ç‰ºöË¢´Â∫îÁî®ÂèëÈÄÅÂà∞Êï∞ÊçÆÂ∫ìËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
<p>‰∏ÄÊó¶ÂèëÁîü‰∫ÜÁºìÂ≠òÈõ™Â¥©ÔºåÊï∞ÊçÆÂ∫ìÁöÑÊØèÁßíËØ∑Ê±ÇÊï∞Á™ÅÁÑ∂Â¢ûÂä†Âà∞ÊØèÁßí 1 ‰∏á‰∏™ÔºåÊ≠§Êó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂêØÂä®ËØ∑Ê±ÇÈôêÊµÅÊú∫Âà∂ÔºåÂú®ËØ∑Ê±ÇÂÖ•Âè£ÂâçÁ´ØÂè™ÂÖÅËÆ∏ÊØèÁßíËøõÂÖ•Á≥ªÁªüÁöÑËØ∑Ê±ÇÊï∞‰∏∫ 1000 ‰∏™ÔºåÂÜçÂ§öÁöÑËØ∑Ê±ÇÂ∞±‰ºöÂú®ÂÖ•Âè£ÂâçÁ´ØË¢´Áõ¥Êé•ÊãíÁªùÊúçÂä°„ÄÇÊâÄ‰ª•Ôºå‰ΩøÁî®‰∫ÜËØ∑Ê±ÇÈôêÊµÅÔºåÂ∞±ÂèØ‰ª•ÈÅøÂÖçÂ§ßÈáèÂπ∂ÂèëËØ∑Ê±ÇÂéãÂäõ‰º†ÈÄíÂà∞Êï∞ÊçÆÂ∫ìÂ±Ç„ÄÇ</p>
</li>
</ul>
<img src="https://static001.geekbang.org/resource/image/d5/54/d5a0928e1d97cae2f4a4fb5b93e5c854.jpg" alt="img" style="zoom:20%;" /></li>
<li><p><strong>‰∫ãÂâçÈ¢ÑÈò≤„ÄÇ</strong></p>
<p>ÈÄöËøá‰∏ª‰ªéËäÇÁÇπÁöÑÊñπÂºèÊûÑÂª∫ <code>Redis</code> ÁºìÂ≠òÈ´òÂèØÈù†ÈõÜÁæ§„ÄÇÂ¶ÇÊûú <code>Redis</code> ÁºìÂ≠òÁöÑ‰∏ªËäÇÁÇπÊïÖÈöúÂÆïÊú∫‰∫ÜÔºå‰ªéËäÇÁÇπËøòÂèØ‰ª•ÂàáÊç¢Êàê‰∏∫‰∏ªËäÇÁÇπÔºåÁªßÁª≠Êèê‰æõÁºìÂ≠òÊúçÂä°ÔºåÈÅøÂÖç‰∫ÜÁî±‰∫éÁºìÂ≠òÂÆû‰æãÂÆïÊú∫ËÄåÂØºËá¥ÁöÑÁºìÂ≠òÈõ™Â¥©ÈóÆÈ¢ò„ÄÇ</p>
<p><strong>ÁºìÂ≠òÈõ™Â¥©ÊòØÂèëÁîüÂú®Â§ßÈáèÊï∞ÊçÆÂêåÊó∂Â§±ÊïàÁöÑÂú∫ÊôØ‰∏ãÔºåËÄåÊé•‰∏ãÊù•ÊàëË¶ÅÂêë‰Ω†‰ªãÁªçÁöÑÁºìÂ≠òÂáªÁ©øÔºåÊòØÂèëÁîüÂú®Êüê‰∏™ÁÉ≠ÁÇπÊï∞ÊçÆÂ§±ÊïàÁöÑÂú∫ÊôØ‰∏ã„ÄÇÂíåÁºìÂ≠òÈõ™Â¥©Áõ∏ÊØîÔºåÁºìÂ≠òÂáªÁ©øÂ§±ÊïàÁöÑÊï∞ÊçÆÊï∞ÈáèË¶ÅÂ∞èÂæàÂ§öÔºåÂ∫îÂØπÊñπÊ≥ï‰πü‰∏ç‰∏ÄÊ†∑ÔºåÊàë‰ª¨Êù•Áúã‰∏ã„ÄÇ</strong></p>
</li>
</ul>
<h2 id="ÁºìÂ≠òÂáªÁ©ø"><a href="#ÁºìÂ≠òÂáªÁ©ø" class="headerlink" title="ÁºìÂ≠òÂáªÁ©ø"></a>ÁºìÂ≠òÂáªÁ©ø</h2><p>ÁºìÂ≠òÂáªÁ©øÊòØÊåáÔºåÈíàÂØπÊüê‰∏™ËÆøÈóÆÈùûÂ∏∏È¢ëÁπÅÁöÑÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËØ∑Ê±ÇÔºåÊó†Ê≥ïÂú®ÁºìÂ≠ò‰∏≠ËøõË°åÂ§ÑÁêÜÔºåÁ¥ßÊé•ÁùÄÔºåËÆøÈóÆËØ•Êï∞ÊçÆÁöÑÂ§ßÈáèËØ∑Ê±ÇÔºå‰∏Ä‰∏ãÂ≠êÈÉΩÂèëÈÄÅÂà∞‰∫ÜÂêéÁ´ØÊï∞ÊçÆÂ∫ìÔºåÂØºËá¥‰∫ÜÊï∞ÊçÆÂ∫ìÂéãÂäõÊøÄÂ¢ûÔºå‰ºöÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÂÖ∂‰ªñËØ∑Ê±Ç„ÄÇÁºìÂ≠òÂáªÁ©øÁöÑÊÉÖÂÜµÔºåÁªèÂ∏∏ÂèëÁîüÂú®ÁÉ≠ÁÇπÊï∞ÊçÆËøáÊúüÂ§±ÊïàÊó∂ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>
<img src="https://static001.geekbang.org/resource/image/d4/4b/d4c77da4yy7d6e34aca460642923ab4b.jpg" alt="img" style="zoom:20%;" />

<p><strong>Ëß£ÂÜ≥ÊñπÊ°àÔºö</strong> ‰∏∫‰∫ÜÈÅøÂÖçÁºìÂ≠òÂáªÁ©øÁªôÊï∞ÊçÆÂ∫ìÂ∏¶Êù•ÁöÑÊøÄÂ¢ûÂéãÂäõÔºåÊàë‰ª¨ÁöÑËß£ÂÜ≥ÊñπÊ≥ï‰πüÊØîËæÉÁõ¥Êé•ÔºåÂØπ‰∫éËÆøÈóÆÁâπÂà´È¢ëÁπÅÁöÑÁÉ≠ÁÇπÊï∞ÊçÆÔºåÊàë‰ª¨Â∞±‰∏çËÆæÁΩÆËøáÊúüÊó∂Èó¥‰∫Ü„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂØπÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÈÉΩÂèØ‰ª•Âú®ÁºìÂ≠ò‰∏≠ËøõË°åÂ§ÑÁêÜÔºåËÄå <code>Redis</code> Êï∞‰∏áÁ∫ßÂà´ÁöÑÈ´òÂêûÂêêÈáèÂèØ‰ª•ÂæàÂ•ΩÂú∞Â∫îÂØπÂ§ßÈáèÁöÑÂπ∂ÂèëËØ∑Ê±ÇËÆøÈóÆ„ÄÇ</p>
<h2 id="ÁºìÂ≠òÁ©øÈÄè"><a href="#ÁºìÂ≠òÁ©øÈÄè" class="headerlink" title="ÁºìÂ≠òÁ©øÈÄè"></a>ÁºìÂ≠òÁ©øÈÄè</h2><p>ÁºìÂ≠òÁ©øÈÄèÊòØÊåáË¶ÅËÆøÈóÆÁöÑÊï∞ÊçÆÊó¢‰∏çÂú® <code>Redis</code> ÁºìÂ≠ò‰∏≠Ôºå‰πü‰∏çÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂØºËá¥ËØ∑Ê±ÇÂú®ËÆøÈóÆÁºìÂ≠òÊó∂ÔºåÂèëÁîüÁºìÂ≠òÁº∫Â§±ÔºåÂÜçÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ìÊó∂ÔºåÂèëÁé∞Êï∞ÊçÆÂ∫ì‰∏≠‰πüÊ≤°ÊúâË¶ÅËÆøÈóÆÁöÑÊï∞ÊçÆ„ÄÇÊ≠§Êó∂ÔºåÂ∫îÁî®‰πüÊó†Ê≥ï‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊï∞ÊçÆÂÜçÂÜôÂÖ•ÁºìÂ≠òÔºåÊù•ÊúçÂä°ÂêéÁª≠ËØ∑Ê±ÇÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÁºìÂ≠ò‰πüÂ∞±Êàê‰∫Ü‚ÄúÊëÜËÆæ‚ÄùÔºåÂ¶ÇÊûúÂ∫îÁî®ÊåÅÁª≠ÊúâÂ§ßÈáèËØ∑Ê±ÇËÆøÈóÆÊï∞ÊçÆÔºåÂ∞±‰ºöÂêåÊó∂ÁªôÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÂ∏¶Êù•Â∑®Â§ßÂéãÂäõÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>
<img src="https://static001.geekbang.org/resource/image/46/2e/46c49dd155665579c5204a66da8ffc2e.jpg" alt="img" style="zoom:20%;" />

<p>ÈÇ£‰πàÔºåÁºìÂ≠òÁ©øÈÄè‰ºöÂèëÁîüÂú®‰ªÄ‰πàÊó∂ÂÄôÂë¢Ôºü‰∏ÄËà¨Êù•ËØ¥ÔºåÊúâ‰∏§ÁßçÊÉÖÂÜµ„ÄÇ</p>
<ul>
<li><p>‰∏öÂä°Â±ÇËØØÊìç‰ΩúÔºöÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂíåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆË¢´ËØØÂà†Èô§‰∫ÜÔºåÊâÄ‰ª•ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì‰∏≠ÈÉΩÊ≤°ÊúâÊï∞ÊçÆÔºõ</p>
</li>
<li><p>ÊÅ∂ÊÑèÊîªÂáªÔºö‰∏ìÈó®ËÆøÈóÆÊï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâÁöÑÊï∞ÊçÆ„ÄÇ</p>
</li>
</ul>
<p><strong>Ëß£ÂÜ≥ÊñπÊ°àÔºö</strong></p>
<ul>
<li><p><strong>Á¨¨‰∏ÄÁßçÊñπÊ°àÊòØÔºåÁºìÂ≠òÁ©∫ÂÄºÊàñÁº∫ÁúÅÂÄº„ÄÇ</strong></p>
<ul>
<li>‰∏ÄÊó¶ÂèëÁîüÁºìÂ≠òÁ©øÈÄèÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈíàÂØπÊü•ËØ¢ÁöÑÊï∞ÊçÆÔºåÂú® <code>Redis</code> ‰∏≠ÁºìÂ≠ò‰∏Ä‰∏™Á©∫ÂÄºÊàñÊòØÂíå‰∏öÂä°Â±ÇÂçèÂïÜÁ°ÆÂÆöÁöÑÁº∫ÁúÅÂÄºÔºà‰æãÂ¶ÇÔºåÂ∫ìÂ≠òÁöÑÁº∫ÁúÅÂÄºÂèØ‰ª•ËÆæ‰∏∫ 0Ôºâ„ÄÇÁ¥ßÊé•ÁùÄÔºåÂ∫îÁî®ÂèëÈÄÅÁöÑÂêéÁª≠ËØ∑Ê±ÇÂÜçËøõË°åÊü•ËØ¢Êó∂ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ªé <code>Redis</code> ‰∏≠ËØªÂèñÁ©∫ÂÄºÊàñÁº∫ÁúÅÂÄºÔºåËøîÂõûÁªô‰∏öÂä°Â∫îÁî®‰∫ÜÔºåÈÅøÂÖç‰∫ÜÊääÂ§ßÈáèËØ∑Ê±ÇÂèëÈÄÅÁªôÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÔºå‰øùÊåÅ‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇ</li>
</ul>
</li>
<li><p><strong>Á¨¨‰∫åÁßçÊñπÊ°àÊòØÔºå‰ΩøÁî®Â∏ÉÈöÜËøáÊª§Âô®Âø´ÈÄüÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Â≠òÂú®ÔºåÈÅøÂÖç‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÊòØÂê¶Â≠òÂú®ÔºåÂáèËΩªÊï∞ÊçÆÂ∫ìÂéãÂäõ„ÄÇ</strong></p>
<ul>
<li>Âü∫‰∫éÂ∏ÉÈöÜËøáÊª§Âô®ÁöÑÂø´ÈÄüÊ£ÄÊµãÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÊääÊï∞ÊçÆÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÊó∂Ôºå‰ΩøÁî®Â∏ÉÈöÜËøáÊª§Âô®ÂÅö‰∏™Ê†áËÆ∞„ÄÇÂΩìÁºìÂ≠òÁº∫Â§±ÂêéÔºåÂ∫îÁî®Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÊü•ËØ¢Â∏ÉÈöÜËøáÊª§Âô®Âø´ÈÄüÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Â≠òÂú®„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂ∞±‰∏çÁî®ÂÜçÂéªÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢‰∫Ü„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂç≥‰ΩøÂèëÁîüÁºìÂ≠òÁ©øÈÄè‰∫ÜÔºåÂ§ßÈáèËØ∑Ê±ÇÂè™‰ºöÊü•ËØ¢ <code>Redis</code> ÂíåÂ∏ÉÈöÜËøáÊª§Âô®ÔºåËÄå‰∏ç‰ºöÁßØÂéãÂà∞Êï∞ÊçÆÂ∫ìÔºå‰πüÂ∞±‰∏ç‰ºöÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇÂ∏ÉÈöÜËøáÊª§Âô®ÂèØ‰ª•‰ΩøÁî® <code>Redis</code> ÂÆûÁé∞ÔºåÊú¨Ë∫´Â∞±ËÉΩÊâøÊãÖËæÉÂ§ßÁöÑÂπ∂ÂèëËÆøÈóÆÂéãÂäõ„ÄÇ</li>
</ul>
</li>
<li><p><strong>ÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÊòØÔºåÂú®ËØ∑Ê±ÇÂÖ•Âè£ÁöÑÂâçÁ´ØËøõË°åËØ∑Ê±ÇÊ£ÄÊµã„ÄÇ</strong></p>
<ul>
<li>ÁºìÂ≠òÁ©øÈÄèÁöÑ‰∏Ä‰∏™ÂéüÂõ†ÊòØÊúâÂ§ßÈáèÁöÑÊÅ∂ÊÑèËØ∑Ê±ÇËÆøÈóÆ‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•Ôºå‰∏Ä‰∏™ÊúâÊïàÁöÑÂ∫îÂØπÊñπÊ°àÊòØÂú®ËØ∑Ê±ÇÂÖ•Âè£ÂâçÁ´ØÔºåÂØπ‰∏öÂä°Á≥ªÁªüÊé•Êî∂Âà∞ÁöÑËØ∑Ê±ÇËøõË°åÂêàÊ≥ïÊÄßÊ£ÄÊµãÔºåÊääÊÅ∂ÊÑèÁöÑËØ∑Ê±ÇÔºà‰æãÂ¶ÇËØ∑Ê±ÇÂèÇÊï∞‰∏çÂêàÁêÜ„ÄÅËØ∑Ê±ÇÂèÇÊï∞ÊòØÈùûÊ≥ïÂÄº„ÄÅËØ∑Ê±ÇÂ≠óÊÆµ‰∏çÂ≠òÂú®ÔºâÁõ¥Êé•ËøáÊª§ÊéâÔºå‰∏çËÆ©ÂÆÉ‰ª¨ËÆøÈóÆÂêéÁ´ØÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì„ÄÇËøôÊ†∑‰∏ÄÊù•Ôºå‰πüÂ∞±‰∏ç‰ºöÂá∫Áé∞ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢ò‰∫Ü„ÄÇ</li>
</ul>
</li>
</ul>
<h2 id="ÊÄªÁªì-1"><a href="#ÊÄªÁªì-1" class="headerlink" title="ÊÄªÁªì"></a>ÊÄªÁªì</h2><img src="https://static001.geekbang.org/resource/image/b5/e1/b5bd931239be18bef24b2ef36c70e9e1.jpg" alt="img" style="zoom:20%;" />

<p>ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅËøô‰∫õÊñπÊ≥ïÈÉΩÊòØÂ±û‰∫é‚ÄúÊúâÊçü‚ÄùÊñπÊ°àÔºåÂú®‰øùËØÅÊï∞ÊçÆÂ∫ìÂíåÊï¥‰ΩìÁ≥ªÁªüÁ®≥ÂÆöÁöÑÂêåÊó∂Ôºå‰ºöÂØπ‰∏öÂä°Â∫îÁî®Â∏¶Êù•Ë¥üÈù¢ÂΩ±Âìç„ÄÇ‰æãÂ¶Ç‰ΩøÁî®ÊúçÂä°ÈôçÁ∫ßÊó∂ÔºåÊúâÈÉ®ÂàÜÊï∞ÊçÆÁöÑËØ∑Ê±ÇÂ∞±Âè™ËÉΩÂæóÂà∞ÈîôËØØËøîÂõû‰ø°ÊÅØÔºåÊó†Ê≥ïÊ≠£Â∏∏Â§ÑÁêÜ„ÄÇÂ¶ÇÊûú‰ΩøÁî®‰∫ÜÊúçÂä°ÁÜîÊñ≠ÔºåÈÇ£‰πàÔºåÊï¥‰∏™ÁºìÂ≠òÁ≥ªÁªüÁöÑÊúçÂä°ÈÉΩË¢´ÊöÇÂÅú‰∫ÜÔºåÂΩ±ÂìçÁöÑ‰∏öÂä°ËåÉÂõ¥Êõ¥Â§ß„ÄÇËÄå‰ΩøÁî®‰∫ÜËØ∑Ê±ÇÈôêÊµÅÊú∫Âà∂ÂêéÔºåÊï¥‰∏™‰∏öÂä°Á≥ªÁªüÁöÑÂêûÂêêÁéá‰ºöÈôç‰ΩéÔºåËÉΩÂπ∂ÂèëÂ§ÑÁêÜÁöÑÁî®Êà∑ËØ∑Ê±Ç‰ºöÂáèÂ∞ëÔºå‰ºöÂΩ±ÂìçÂà∞Áî®Êà∑‰ΩìÈ™å„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÊàëÁªô‰Ω†ÁöÑÂª∫ËÆÆÊòØÔºåÂ∞ΩÈáè‰ΩøÁî®È¢ÑÈò≤ÂºèÊñπÊ°àÔºö</p>
<ul>
<li><p>ÈíàÂØπÁºìÂ≠òÈõ™Â¥©ÔºåÂêàÁêÜÂú∞ËÆæÁΩÆÊï∞ÊçÆËøáÊúüÊó∂Èó¥Ôºå‰ª•ÂèäÊê≠Âª∫È´òÂèØÈù†ÁºìÂ≠òÈõÜÁæ§Ôºõ</p>
</li>
<li><p>ÈíàÂØπÁºìÂ≠òÂáªÁ©øÔºåÂú®ÁºìÂ≠òËÆøÈóÆÈùûÂ∏∏È¢ëÁπÅÁöÑÁÉ≠ÁÇπÊï∞ÊçÆÊó∂Ôºå‰∏çË¶ÅËÆæÁΩÆËøáÊúüÊó∂Èó¥Ôºõ</p>
</li>
<li><p>ÈíàÂØπÁºìÂ≠òÁ©øÈÄèÔºåÊèêÂâçÂú®ÂÖ•Âè£ÂâçÁ´ØÂÆûÁé∞ÊÅ∂ÊÑèËØ∑Ê±ÇÊ£ÄÊµãÔºåÊàñËÄÖËßÑËåÉÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÂà†Èô§Êìç‰ΩúÔºåÈÅøÂÖçËØØÂà†Èô§„ÄÇ</p>
</li>
</ul>
<h2 id="ÈóÆÈ¢ò-2"><a href="#ÈóÆÈ¢ò-2" class="headerlink" title="ÈóÆÈ¢ò"></a>ÈóÆÈ¢ò</h2><p>ÂèØ‰ª•ÈááÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑÊñπÊ≥ïÊù•Â∫îÂØπÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢òÂêóÔºü</p>
<p>ÈúÄË¶ÅÂå∫ÂàÜÂú∫ÊôØÊù•Áúã„ÄÇ</p>
<p>Â¶ÇÊûúÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†ÊòØÊÅ∂ÊÑèÊîªÂáªÔºåÊîªÂáªËÄÖÊïÖÊÑèËÆøÈóÆÊï∞ÊçÆÂ∫ì‰∏≠‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆ„ÄÇËøôÁßçÊÉÖÂÜµÂèØ‰ª•ÂÖà‰ΩøÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑÊñπÂºèÔºåÂØπÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÂ±ÇÂ¢ûÂä†‰øùÊä§ÔºåÈò≤Ê≠¢Â§ßÈáèÊÅ∂ÊÑèËØ∑Ê±ÇÊääÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÂéãÂûÆ„ÄÇÂú®ËøôÊúüÈó¥ÂèØ‰ª•ÂØπÊîªÂáªËÄÖËøõË°åÈò≤Êä§Ôºå‰æãÂ¶ÇÂ∞ÅÁ¶ÅIPÁ≠âÊìç‰Ωú„ÄÇ</p>
<p>Â¶ÇÊûúÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†ÊòØÊÅ∂ÊÑèÊîªÂáªÔºåÊîªÂáªËÄÖÊïÖÊÑèËÆøÈóÆÊï∞ÊçÆÂ∫ì‰∏≠‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆ„ÄÇËøôÁßçÊÉÖÂÜµÂèØ‰ª•ÂÖà‰ΩøÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑÊñπÂºèÔºåÂØπÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÂ±ÇÂ¢ûÂä†‰øùÊä§ÔºåÈò≤Ê≠¢Â§ßÈáèÊÅ∂ÊÑèËØ∑Ê±ÇÊääÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÂéãÂûÆ„ÄÇÂú®ËøôÊúüÈó¥ÂèØ‰ª•ÂØπÊîªÂáªËÄÖËøõË°åÈò≤Êä§Ôºå‰æãÂ¶ÇÂ∞ÅÁ¶ÅIPÁ≠âÊìç‰Ωú„ÄÇ</p>
<p>Â¶ÇÊûúÁºìÂ≠òÁ©øÈÄèÁöÑÂéüÂõ†ÊòØÔºå‰∏öÂä°Â±ÇËØØÊìç‰ΩúÊääÊï∞ÊçÆ‰ªéÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÈÉΩÂà†Èô§‰∫ÜÔºåÂ¶ÇÊûúËØØÂà†Èô§ÁöÑÊï∞ÊçÆÂæàÂ∞ëÔºå‰∏ç‰ºöÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÂéãÂà∞Êï∞ÊçÆÂ∫ìÁöÑÊÉÖÂÜµÔºåÈÇ£‰πàÂø´ÈÄüÊÅ¢Â§çËØØÂà†ÁöÑÊï∞ÊçÆÂ∞±Â•Ω‰∫ÜÔºå‰∏çÈúÄË¶Å‰ΩøÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅ„ÄÇÂ¶ÇÊûúËØØÊìç‰ΩúÂà†Èô§ÁöÑÊï∞ÊçÆËåÉÂõ¥ÊØîËæÉÂπøÔºåÂØºËá¥Â§ßÈáèËØ∑Ê±ÇÂéãÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÊ≠§Êó∂‰ΩøÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑÊñπÊ≥ïÊù•Â∫îÂØπÊòØÊúâÂ∏ÆÂä©ÁöÑÔºå‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÂÖàÊääÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ì‰øùÊä§Ëµ∑Êù•ÔºåÁÑ∂Âêé‰ΩøÁî®Â§á‰ªΩÂ∫ìÂø´ÈÄüÊÅ¢Â§çÊï∞ÊçÆÔºåÂú®Êï∞ÊçÆÊÅ¢Â§çÊúüÈó¥ÔºåËøô‰∫õ‰øùÊä§ÊñπÊ≥ïÂèØ‰ª•‰∏∫Êï∞ÊçÆÂ∫ìÊÅ¢Â§çÊèê‰æõ‰øùÈöú„ÄÇ</p>
<p>ËøòÊúâ‰∏ÄÁßçÁºìÂ≠òÁ©øÈÄèÁöÑÂú∫ÊôØÔºåÊàë‰ª¨Âπ≥Êó∂‰ºöÈÅáÂà∞ÁöÑÔºåÂíåÂ§ßÂÆ∂ÂàÜ‰∫´‰∏Ä‰∏ã„ÄÇ</p>
<p>ÂØπ‰∫é‰∏Ä‰∏™Âàö‰∏äÁ∫øÁöÑÊñ∞‰∏öÂä°Ê®°ÂùóÔºåÂ¶ÇÊûúËøòÊ≤°ÊúâÁî®Êà∑Âú®Ëøô‰∏™Ê®°ÂùóÂÜÖ‰∫ßÁîü‰∏öÂä°Êï∞ÊçÆÔºåÂΩìÁî®Êà∑ÈúÄË¶ÅÊü•ËØ¢Ëøô‰∏™‰∏öÂä°Ê®°ÂùóËá™Â∑±ÁöÑÊï∞ÊçÆÊó∂ÔºåÁî±‰∫éÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÈÉΩÊ≤°ÊúâËøô‰∏™Áî®Êà∑ÁöÑÊï∞ÊçÆÔºåÊ≠§Êó∂‰πü‰ºö‰∫ßÁîüÁºìÂ≠òÁ©øÈÄèÔºå‰ΩÜËøôÁßçÂú∫ÊôØ‰∏çÂÉèËØØÂà†Êï∞ÊçÆÂíåÊÅ∂ÊÑèÊîªÂáªÈÇ£Ê†∑ÔºåËÄåÊòØÂ±û‰∫éÊ≠£Â∏∏ÁöÑÁî®Êà∑Ë°å‰∏∫„ÄÇ</p>
<p>ËøôÁßçÂú∫ÊôØÈááÁî®ÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑÊñπÂºèÂ∞±Ê≤°Êúâ‰ªª‰ΩïÊÑè‰πâ‰∫ÜÔºåÂèçËÄå‰ºöÂΩ±ÂìçÊ≠£Â∏∏Áî®Êà∑ÁöÑËÆøÈóÆ„ÄÇËøôÁßçÂú∫ÊôØÂè™ËÉΩ‰ΩøÁî®ÁºìÂ≠òÂõûÁßçÁ©∫ÂÄº„ÄÅÂ∏ÉÈöÜËøáÊª§Âô®Êù•Ëß£ÂÜ≥„ÄÇ</p>
<p>ÂèØËßÅÔºåÊúçÂä°ÁÜîÊñ≠„ÄÅÊúçÂä°ÈôçÁ∫ß„ÄÅËØ∑Ê±ÇÈôêÊµÅÁöÑ‰ΩúÁî®ÊòØÔºåÂΩìÁ≥ªÁªüÂÜÖÈÉ®ÂèëÁîüÊïÖÈöúÊàñÊΩúÂú®ÈóÆÈ¢òÊó∂Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢Á≥ªÁªüÂÜÖÈÉ®ÁöÑÈóÆÈ¢òËøõ‰∏ÄÊ≠•ÊÅ∂ÂåñÔºåÊâÄ‰ª•‰ºöÈááÁî®Ëøô‰∫õÊñπÂºèÂØπÁ≥ªÁªüÂ¢ûÂä†‰øùÊä§ÔºåÂæÖÁ≥ªÁªüÂÜÖÈÉ®ÊïÖÈöúÊÅ¢Â§çÂêéÔºåÂèØ‰ª•‰æùÊóßÁªßÁª≠ÂØπÂ§ñÊèê‰æõÊúçÂä°ÔºåËøô‰∫õÊñπÊ≥ïÂ±û‰∫éÊúçÂä°Ê≤ªÁêÜÁöÑËåÉÁï¥ÔºåÂú®‰ªª‰ΩïÂèØËÉΩÂØºËá¥Á≥ªÁªüÊïÖÈöúÁöÑÂú∫ÊôØ‰∏ãÔºåÈÉΩÂèØ‰ª•ÈÄâÊã©ÊÄßÈÖçÂêà‰ΩøÁî®„ÄÇ</p>
<h1 id="ÁºìÂ≠òË¢´Ê±°Êüì‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü"><a href="#ÁºìÂ≠òË¢´Ê±°Êüì‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü" class="headerlink" title="ÁºìÂ≠òË¢´Ê±°Êüì‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü"></a>ÁºìÂ≠òË¢´Ê±°Êüì‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü</h1><p>Êàë‰ª¨Â∫îÁî® <code>Redis</code> ÁºìÂ≠òÊó∂ÔºåÂ¶ÇÊûúËÉΩÁºìÂ≠ò‰ºöË¢´ÂèçÂ§çËÆøÈóÆÁöÑÊï∞ÊçÆÔºåÈÇ£Â∞±ËÉΩÂä†ÈÄü‰∏öÂä°Â∫îÁî®ÁöÑËÆøÈóÆ„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂèëÁîü‰∫ÜÁºìÂ≠òÊ±°ÊüìÔºåÈÇ£‰πàÔºåÁºìÂ≠òÂØπ‰∏öÂä°Â∫îÁî®ÁöÑÂä†ÈÄü‰ΩúÁî®Â∞±ÂáèÂ∞ë‰∫Ü„ÄÇ</p>
<p><strong>ÁºìÂ≠òÊ±°ÊüìÔºö</strong> Âú®‰∏Ä‰∫õÂú∫ÊôØ‰∏ãÔºåÊúâ‰∫õÊï∞ÊçÆË¢´ËÆøÈóÆÁöÑÊ¨°Êï∞ÈùûÂ∏∏Â∞ëÔºåÁîöËá≥Âè™‰ºöË¢´ËÆøÈóÆ‰∏ÄÊ¨°„ÄÇÂΩìËøô‰∫õÊï∞ÊçÆÊúçÂä°ÂÆåËÆøÈóÆËØ∑Ê±ÇÂêéÔºåÂ¶ÇÊûúËøòÁªßÁª≠ÁïôÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÁöÑËØùÔºåÂ∞±Âè™‰ºöÁôΩÁôΩÂç†Áî®ÁºìÂ≠òÁ©∫Èó¥„ÄÇËøôÁßçÊÉÖÂÜµÔºåÂ∞±ÊòØÁºìÂ≠òÊ±°Êüì„ÄÇ</p>
<p><strong>ÂºäÁ´ØÔºö</strong>ÂΩìÁºìÂ≠òÊ±°Êüì‰∏ç‰∏•ÈáçÊó∂ÔºåÂè™ÊúâÂ∞ëÈáèÊï∞ÊçÆÂç†ÊçÆÁºìÂ≠òÁ©∫Èó¥ÔºåÊ≠§Êó∂ÔºåÂØπÁºìÂ≠òÁ≥ªÁªüÁöÑÂΩ±Âìç‰∏çÂ§ß„ÄÇ‰ΩÜÊòØÔºåÁºìÂ≠òÊ±°Êüì‰∏ÄÊó¶ÂèòÂæó‰∏•ÈáçÂêéÔºåÂ∞±‰ºöÊúâÂ§ßÈáè‰∏çÂÜçËÆøÈóÆÁöÑÊï∞ÊçÆÊªûÁïôÂú®ÁºìÂ≠ò‰∏≠„ÄÇÂ¶ÇÊûúËøôÊó∂Êï∞ÊçÆÂç†Êª°‰∫ÜÁºìÂ≠òÁ©∫Èó¥ÔºåÊàë‰ª¨ÂÜçÂæÄÁºìÂ≠ò‰∏≠ÂÜôÂÖ•Êñ∞Êï∞ÊçÆÊó∂ÔºåÂ∞±ÈúÄË¶ÅÂÖàÊääËøô‰∫õÊï∞ÊçÆÈÄêÊ≠•Ê∑òÊ±∞Âá∫ÁºìÂ≠òÔºåËøôÂ∞±‰ºöÂºïÂÖ•È¢ùÂ§ñÁöÑÊìç‰ΩúÊó∂Èó¥ÂºÄÈîÄÔºåËøõËÄå‰ºöÂΩ±ÂìçÂ∫îÁî®ÁöÑÊÄßËÉΩ„ÄÇ</p>
<h2 id="Â¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºü"><a href="#Â¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºü" class="headerlink" title="Â¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºü"></a>Â¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºü</h2><p>Ë¶ÅËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÔºåÊàë‰ª¨‰πüËÉΩÂæàÂÆπÊòìÊÉ≥Âà∞Ëß£ÂÜ≥ÊñπÊ°àÔºåÈÇ£Â∞±ÊòØÂæóÊää‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁ≠õÈÄâÂá∫Êù•Âπ∂Ê∑òÊ±∞Êéâ„ÄÇËøôÊ†∑Â∞±‰∏çÁî®Á≠âÂà∞ÁºìÂ≠òË¢´ÂÜôÊª°‰ª•ÂêéÔºåÂÜçÈÄê‰∏ÄÊ∑òÊ±∞ÊóßÊï∞ÊçÆ‰πãÂêéÔºåÊâçËÉΩÂÜôÂÖ•Êñ∞Êï∞ÊçÆ‰∫Ü„ÄÇËÄåÂì™‰∫õÊï∞ÊçÆËÉΩÁïôÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÔºåÊòØÁî±ÁºìÂ≠òÁöÑÊ∑òÊ±∞Á≠ñÁï•ÂÜ≥ÂÆöÁöÑ„ÄÇ</p>
<ul>
<li><p><strong><code>volatile-random</code> Âíå <code>allkeys-random</code>Ôºö</strong>ÈááÁî®ÈöèÊú∫ÊåëÈÄâÊï∞ÊçÆÁöÑÊñπÂºèÔºåÊù•Á≠õÈÄâÂç≥Â∞ÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<ul>
<li>Êó¢ÁÑ∂ÊòØÈöèÊú∫ÊåëÈÄâÔºåÈÇ£‰πà <code>Redis</code> Â∞±‰∏ç‰ºöÊ†πÊçÆÊï∞ÊçÆÁöÑËÆøÈóÆÊÉÖÂÜµÊù•Á≠õÈÄâÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÂèàË¢´ËÆøÈóÆ‰∫ÜÔºåÂ∞±‰ºöÂèëÁîüÁºìÂ≠òÁº∫Â§±„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂ∫îÁî®ÈúÄË¶ÅÂà∞ÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰∏≠ËÆøÈóÆËøô‰∫õÊï∞ÊçÆÔºåÈôç‰Ωé‰∫ÜÂ∫îÁî®ÁöÑËØ∑Ê±ÇÂìçÂ∫îÈÄüÂ∫¶„ÄÇÊâÄ‰ª•Ôºå<code>volatile-random</code> Âíå <code>allkeys-random</code> Á≠ñÁï•ÔºåÂú®ÈÅøÂÖçÁºìÂ≠òÊ±°ÊüìËøô‰∏™ÈóÆÈ¢ò‰∏äÁöÑÊïàÊûúÈùûÂ∏∏ÊúâÈôê„ÄÇ</li>
</ul>
</li>
<li><p><strong><code>volatile-ttlÔºö</code></strong> ÈíàÂØπÁöÑÊòØËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÔºåÊääËøô‰∫õÊï∞ÊçÆ‰∏≠Ââ©‰ΩôÂ≠òÊ¥ªÊó∂Èó¥ÊúÄÁü≠ÁöÑÁ≠õÈÄâÂá∫Êù•Âπ∂Ê∑òÊ±∞Êéâ„ÄÇ</p>
<ul>
<li>ËôΩÁÑ∂ <code>volatile-ttl</code> Á≠ñÁï•‰∏çÂÜçÊòØÈöèÊú∫ÈÄâÊã©Ê∑òÊ±∞Êï∞ÊçÆ‰∫ÜÔºå‰ΩÜÊòØÂâ©‰ΩôÂ≠òÊ¥ªÊó∂Èó¥Âπ∂‰∏çËÉΩÁõ¥Êé•ÂèçÊò†Êï∞ÊçÆÂÜçÊ¨°ËÆøÈóÆÁöÑÊÉÖÂÜµ„ÄÇÊâÄ‰ª•ÔºåÊåâÁÖß <code>volatile-ttl</code> Á≠ñÁï•Ê∑òÊ±∞Êï∞ÊçÆÔºåÂíåÊåâÈöèÊú∫ÊñπÂºèÊ∑òÊ±∞Êï∞ÊçÆÁ±ª‰ººÔºå‰πüÂèØËÉΩÂá∫Áé∞Êï∞ÊçÆË¢´Ê∑òÊ±∞ÂêéÔºåË¢´ÂÜçÊ¨°ËÆøÈóÆÂØºËá¥ÁöÑÁºìÂ≠òÁº∫Â§±ÈóÆÈ¢ò„ÄÇ</li>
<li><strong>‰∏ÄÁßç‰æãÂ§ñÊÉÖÂÜµÔºö</strong> ‰∏öÂä°Â∫îÁî®Âú®ÁªôÊï∞ÊçÆËÆæÁΩÆËøáÊúüÊó∂Èó¥ÁöÑÊó∂ÂÄôÔºåÂ∞±ÊòéÁ°ÆÁü•ÈÅìÊï∞ÊçÆË¢´ÂÜçÊ¨°ËÆøÈóÆÁöÑÊÉÖÂÜµÔºåÂπ∂Ê†πÊçÆËÆøÈóÆÊÉÖÂÜµËÆæÁΩÆËøáÊúüÊó∂Èó¥„ÄÇÊ≠§Êó∂Ôºå<code>Redis</code> ÊåâÁÖßÊï∞ÊçÆÁöÑÂâ©‰ΩôÊúÄÁü≠Â≠òÊ¥ªÊó∂Èó¥ËøõË°åÁ≠õÈÄâÔºåÊòØÂèØ‰ª•Êää‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁ≠õÈÄâÂá∫Êù•ÁöÑÔºåËøõËÄåÈÅøÂÖçÁºìÂ≠òÊ±°Êüì„ÄÇ‰æãÂ¶ÇÔºå‰∏öÂä°ÈÉ®Èó®Áü•ÈÅìÊï∞ÊçÆË¢´ËÆøÈóÆÁöÑÊó∂ÈïøÂ∞±ÊòØ‰∏Ä‰∏™Â∞èÊó∂ÔºåÂπ∂ÊääÊï∞ÊçÆÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫‰∏Ä‰∏™Â∞èÊó∂Âêé„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÁöÑÁ°ÆÊòØ‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆ‰∫Ü„ÄÇ</li>
</ul>
</li>
</ul>
<p><strong>Â∞èÁªìÔºö</strong> Â∞èÁªì‰∏ã„ÄÇÈô§‰∫ÜÂú®ÊòéÁ°ÆÁü•ÈÅìÊï∞ÊçÆË¢´ÂÜçÊ¨°ËÆøÈóÆÁöÑÊÉÖÂÜµ‰∏ãÔºå<code>volatile-ttl</code> ÂèØ‰ª•ÊúâÊïàÈÅøÂÖçÁºìÂ≠òÊ±°Êüì„ÄÇÂú®ÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãÔºå<code>volatile-random„ÄÅallkeys-random„ÄÅvolatile-ttl </code>Ëøô‰∏âÁßçÁ≠ñÁï•Âπ∂‰∏çËÉΩÂ∫îÂØπÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢ò„ÄÇ</p>
<h2 id="LRU-ÁºìÂ≠òÁ≠ñÁï•"><a href="#LRU-ÁºìÂ≠òÁ≠ñÁï•" class="headerlink" title="LRU ÁºìÂ≠òÁ≠ñÁï•"></a><code>LRU</code> ÁºìÂ≠òÁ≠ñÁï•</h2><p><strong><code>LRU</code> Á≠ñÁï•ÁöÑÊ†∏ÂøÉÊÄùÊÉ≥Ôºö</strong>Â¶ÇÊûú‰∏Ä‰∏™Êï∞ÊçÆÂàöÂàöË¢´ËÆøÈóÆÔºåÈÇ£‰πàËøô‰∏™Êï∞ÊçÆËÇØÂÆöÊòØÁÉ≠Êï∞ÊçÆÔºåËøò‰ºöË¢´ÂÜçÊ¨°ËÆøÈóÆ„ÄÇÊåâÁÖßËøô‰∏™Ê†∏ÂøÉÊÄùÊÉ≥Ôºå<code>Redis</code> ‰∏≠ÁöÑ<code> LRU</code> Á≠ñÁï•Ôºå‰ºöÂú®ÊØè‰∏™Êï∞ÊçÆÂØπÂ∫îÁöÑ <code>RedisObject</code> ÁªìÊûÑ‰Ωì‰∏≠ËÆæÁΩÆ‰∏Ä‰∏™ <code>lru</code> Â≠óÊÆµÔºåÁî®Êù•ËÆ∞ÂΩïÊï∞ÊçÆÁöÑËÆøÈóÆÊó∂Èó¥Êà≥„ÄÇÂú®ËøõË°åÊï∞ÊçÆÊ∑òÊ±∞Êó∂Ôºå<code>LRU</code> Á≠ñÁï•‰ºöÂú®ÂÄôÈÄâÊï∞ÊçÆÈõÜ‰∏≠Ê∑òÊ±∞Êéâ <code>lru</code> Â≠óÊÆµÂÄºÊúÄÂ∞èÁöÑÊï∞ÊçÆÔºà‰πüÂ∞±ÊòØËÆøÈóÆÊó∂Èó¥ÊúÄ‰πÖÁöÑÊï∞ÊçÆÔºâ„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÂú®Êï∞ÊçÆË¢´È¢ëÁπÅËÆøÈóÆÁöÑ‰∏öÂä°Âú∫ÊôØ‰∏≠Ôºå<code>LRU</code> Á≠ñÁï•ÁöÑÁ°ÆËÉΩÊúâÊïàÁïôÂ≠òËÆøÈóÆÊó∂Èó¥ÊúÄËøëÁöÑÊï∞ÊçÆ„ÄÇËÄå‰∏îÔºåÂõ†‰∏∫ÁïôÂ≠òÁöÑËøô‰∫õÊï∞ÊçÆËøò‰ºöË¢´ÂÜçÊ¨°ËÆøÈóÆÔºåÊâÄ‰ª•ÂèàÂèØ‰ª•ÊèêÂçá‰∏öÂä°Â∫îÁî®ÁöÑËÆøÈóÆÈÄüÂ∫¶„ÄÇ</p>
<p><strong>ÂºäÁ´ØÔºö</strong>‰ΩÜÊòØÔºå‰πüÊ≠£ÊòØÂõ†‰∏∫Âè™ÁúãÊï∞ÊçÆÁöÑËÆøÈóÆÊó∂Èó¥Ôºå‰ΩøÁî® <code>LRU</code> Á≠ñÁï•Âú®Â§ÑÁêÜÊâ´ÊèèÂºèÂçïÊ¨°Êü•ËØ¢Êìç‰ΩúÊó∂ÔºåÊó†Ê≥ïËß£ÂÜ≥ÁºìÂ≠òÊ±°Êüì„ÄÇ<strong>ÊâÄË∞ìÁöÑÊâ´ÊèèÂºèÂçïÊ¨°Êü•ËØ¢Êìç‰ΩúÔºåÂ∞±ÊòØÊåáÂ∫îÁî®ÂØπÂ§ßÈáèÁöÑÊï∞ÊçÆËøõË°å‰∏ÄÊ¨°ÂÖ®‰ΩìËØªÂèñÔºåÊØè‰∏™Êï∞ÊçÆÈÉΩ‰ºöË¢´ËØªÂèñÔºåËÄå‰∏îÂè™‰ºöË¢´ËØªÂèñ‰∏ÄÊ¨°„ÄÇÊ≠§Êó∂ÔºåÂõ†‰∏∫Ëøô‰∫õË¢´Êü•ËØ¢ÁöÑÊï∞ÊçÆÂàöÂàöË¢´ËÆøÈóÆËøáÔºåÊâÄ‰ª• <code>lru</code> Â≠óÊÆµÂÄºÈÉΩÂæàÂ§ß„ÄÇ</strong></p>
<p>Âú®‰ΩøÁî® <code>LRU</code> Á≠ñÁï•Ê∑òÊ±∞Êï∞ÊçÆÊó∂ÔºåËøô‰∫õÊï∞ÊçÆ‰ºöÁïôÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥ÔºåÈÄ†ÊàêÁºìÂ≠òÊ±°Êüì„ÄÇÂ¶ÇÊûúÊü•ËØ¢ÁöÑÊï∞ÊçÆÈáèÂæàÂ§ßÔºåËøô‰∫õÊï∞ÊçÆÂç†Êª°‰∫ÜÁºìÂ≠òÁ©∫Èó¥ÔºåÂç¥Âèà‰∏ç‰ºöÊúçÂä°Êñ∞ÁöÑÁºìÂ≠òËØ∑Ê±ÇÔºåÊ≠§Êó∂ÔºåÂÜçÊúâÊñ∞Êï∞ÊçÆË¶ÅÂÜôÂÖ•ÁºìÂ≠òÁöÑËØùÔºåËøòÊòØÈúÄË¶ÅÂÖàÊääËøô‰∫õÊóßÊï∞ÊçÆÊõøÊç¢Âá∫ÁºìÂ≠òÊâçË°åÔºåËøô‰ºöÂΩ±ÂìçÁºìÂ≠òÁöÑÊÄßËÉΩ„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/76/75/76909482d30097da81273f7bda18b275.jpg" alt="img" style="zoom:20%;" />

<h2 id="LFU-ÁºìÂ≠òÁ≠ñÁï•ÁöÑ‰ºòÂåñ"><a href="#LFU-ÁºìÂ≠òÁ≠ñÁï•ÁöÑ‰ºòÂåñ" class="headerlink" title="LFU ÁºìÂ≠òÁ≠ñÁï•ÁöÑ‰ºòÂåñ"></a><code>LFU</code> ÁºìÂ≠òÁ≠ñÁï•ÁöÑ‰ºòÂåñ</h2><p><code>LFU</code> ÁºìÂ≠òÁ≠ñÁï•ÊòØÂú® <code>LRU</code> Á≠ñÁï•Âü∫Á°Ä‰∏äÔºå‰∏∫ÊØè‰∏™Êï∞ÊçÆÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™ËÆ°Êï∞Âô®ÔºåÊù•ÁªüËÆ°Ëøô‰∏™Êï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇÂΩì‰ΩøÁî® <code>LFU</code> Á≠ñÁï•Á≠õÈÄâÊ∑òÊ±∞Êï∞ÊçÆÊó∂ÔºåÈ¶ñÂÖà‰ºöÊ†πÊçÆÊï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞ËøõË°åÁ≠õÈÄâÔºåÊääËÆøÈóÆÊ¨°Êï∞ÊúÄ‰ΩéÁöÑÊï∞ÊçÆÊ∑òÊ±∞Âá∫ÁºìÂ≠ò„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞Áõ∏ÂêåÔºå<code>LFU</code> Á≠ñÁï•ÂÜçÊØîËæÉËøô‰∏§‰∏™Êï∞ÊçÆÁöÑËÆøÈóÆÊó∂ÊïàÊÄßÔºåÊääË∑ùÁ¶ª‰∏ä‰∏ÄÊ¨°ËÆøÈóÆÊó∂Èó¥Êõ¥‰πÖÁöÑÊï∞ÊçÆÊ∑òÊ±∞Âá∫ÁºìÂ≠ò„ÄÇ</p>
<p><strong>Â•ΩÂ§ÑÔºö</strong> ÂíåÈÇ£‰∫õË¢´È¢ëÁπÅËÆøÈóÆÁöÑÊï∞ÊçÆÁõ∏ÊØîÔºåÊâ´ÊèèÂºèÂçïÊ¨°Êü•ËØ¢ÁöÑÊï∞ÊçÆÂõ†‰∏∫‰∏ç‰ºöË¢´ÂÜçÊ¨°ËÆøÈóÆÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÁöÑËÆøÈóÆÊ¨°Êï∞‰∏ç‰ºöÂÜçÂ¢ûÂä†„ÄÇÂõ†Ê≠§Ôºå<code>LFU</code> Á≠ñÁï•‰ºö‰ºòÂÖàÊääËøô‰∫õËÆøÈóÆÊ¨°Êï∞‰ΩéÁöÑÊï∞ÊçÆÊ∑òÊ±∞Âá∫ÁºìÂ≠ò„ÄÇËøôÊ†∑‰∏ÄÊù•Ôºå<code>LFU</code> Á≠ñÁï•Â∞±ÂèØ‰ª•ÈÅøÂÖçËøô‰∫õÊï∞ÊçÆÂØπÁºìÂ≠òÈÄ†ÊàêÊ±°Êüì‰∫Ü„ÄÇ</p>
<p><strong>‰∏∫‰∫ÜÈÅøÂÖçÊìç‰ΩúÈìæË°®ÁöÑÂºÄÈîÄÔºå<code>Redis</code> Âú®ÂÆûÁé∞ <code>LRU</code> Á≠ñÁï•Êó∂‰ΩøÁî®‰∫Ü‰∏§‰∏™Ëøë‰ººÊñπÊ≥ïÔºö</strong></p>
<ul>
<li><code>Redis</code> ÊòØÁî® <code>RedisObject</code> ÁªìÊûÑÊù•‰øùÂ≠òÊï∞ÊçÆÁöÑÔºå<code>RedisObject</code> ÁªìÊûÑ‰∏≠ËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™ <code>lru</code> Â≠óÊÆµÔºåÁî®Êù•ËÆ∞ÂΩïÊï∞ÊçÆÁöÑËÆøÈóÆÊó∂Èó¥Êà≥Ôºõ</li>
<li><code>Redis</code> Âπ∂Ê≤°Êúâ‰∏∫ÊâÄÊúâÁöÑÊï∞ÊçÆÁª¥Êä§‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÈìæË°®ÔºåËÄåÊòØÈÄöËøáÈöèÊú∫ÈááÊ†∑ÊñπÂºèÔºåÈÄâÂèñ‰∏ÄÂÆöÊï∞ÈáèÔºà‰æãÂ¶Ç 10 ‰∏™ÔºâÁöÑÊï∞ÊçÆÊîæÂÖ•ÂÄôÈÄâÈõÜÂêàÔºåÂêéÁª≠Âú®ÂÄôÈÄâÈõÜÂêà‰∏≠Ê†πÊçÆ <code>lru</code> Â≠óÊÆµÂÄºÁöÑÂ§ßÂ∞èËøõË°åÁ≠õÈÄâ„ÄÇ</li>
</ul>
<p>Âú®Ê≠§Âü∫Á°Ä‰∏äÔºå**<code>Redis</code> Âú®ÂÆûÁé∞ <code>LFU</code> Á≠ñÁï•ÁöÑÊó∂ÂÄôÔºåÂè™ÊòØÊääÂéüÊù• <code>24bit</code> Â§ßÂ∞èÁöÑ <code>lru</code> Â≠óÊÆµÔºåÂèàËøõ‰∏ÄÊ≠•ÊãÜÂàÜÊàê‰∫Ü‰∏§ÈÉ®ÂàÜ„ÄÇ**</p>
<ol>
<li><code>ldt ÂÄºÔºölru Â≠óÊÆµÁöÑÂâç 16bitÔºåË°®Á§∫Êï∞ÊçÆÁöÑËÆøÈóÆÊó∂Èó¥Êà≥Ôºõ</code></li>
<li><code>counter ÂÄºÔºölru Â≠óÊÆµÁöÑÂêé 8bitÔºåË°®Á§∫Êï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇ</code></li>
</ol>
<p>ÊÄªÁªì‰∏Ä‰∏ãÔºöÂΩì <code>LFU</code> Á≠ñÁï•Á≠õÈÄâÊï∞ÊçÆÊó∂Ôºå<code>Redis</code> ‰ºöÂú®ÂÄôÈÄâÈõÜÂêà‰∏≠ÔºåÊ†πÊçÆÊï∞ÊçÆ <code>lru</code> Â≠óÊÆµÁöÑÂêé <code>8bit</code> ÈÄâÊã©ËÆøÈóÆÊ¨°Êï∞ÊúÄÂ∞ëÁöÑÊï∞ÊçÆËøõË°åÊ∑òÊ±∞„ÄÇÂΩìËÆøÈóÆÊ¨°Êï∞Áõ∏ÂêåÊó∂ÔºåÂÜçÊ†πÊçÆ <code>lru</code> Â≠óÊÆµÁöÑÂâç <code>16bit</code> ÂÄºÂ§ßÂ∞èÔºåÈÄâÊã©ËÆøÈóÆÊó∂Èó¥ÊúÄ‰πÖËøúÁöÑÊï∞ÊçÆËøõË°åÊ∑òÊ±∞„ÄÇ</p>
<p><strong>ÈóÆÈ¢òÔºö<code>Redis</code> Âè™‰ΩøÁî®‰∫Ü <code>8bit</code> ËÆ∞ÂΩïÊï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞ÔºåËÄå <code>8bit</code> ËÆ∞ÂΩïÁöÑÊúÄÂ§ßÂÄºÊòØ 255ÔºåËøôÊ†∑ÂèØ‰ª•ÂêóÔºü</strong></p>
<p>Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Ôºå‰∏Ä‰∏™Êï∞ÊçÆÂèØËÉΩ‰ºöË¢´ËÆøÈóÆÊàêÂçÉ‰∏ä‰∏áÊ¨°„ÄÇÂ¶ÇÊûúÊØèË¢´ËÆøÈóÆ‰∏ÄÊ¨°Ôºåcounter ÂÄºÂ∞±Âä† 1 ÁöÑËØùÔºåÈÇ£‰πàÔºåÂè™Ë¶ÅËÆøÈóÆÊ¨°Êï∞Ë∂ÖËøá‰∫Ü 255ÔºåÊï∞ÊçÆÁöÑ counter ÂÄºÂ∞±‰∏ÄÊ†∑‰∫Ü„ÄÇÂú®ËøõË°åÊï∞ÊçÆÊ∑òÊ±∞Êó∂ÔºåLFU Á≠ñÁï•Â∞±Êó†Ê≥ïÂæàÂ•ΩÂú∞Âå∫ÂàÜÂπ∂Á≠õÈÄâËøô‰∫õÊï∞ÊçÆÔºåÂèçËÄåËøòÂèØËÉΩ‰ºöÊää‰∏çÊÄé‰πàËÆøÈóÆÁöÑÊï∞ÊçÆÁïôÂ≠òÂú®‰∫ÜÁºìÂ≠ò‰∏≠„ÄÇ</p>
<p>‰æãÂ≠êÔºöÂÅáËÆæÁ¨¨‰∏Ä‰∏™Êï∞ÊçÆ A ÁöÑÁ¥ØËÆ°ËÆøÈóÆÊ¨°Êï∞ÊòØ 256ÔºåËÆøÈóÆÊó∂Èó¥Êà≥ÊòØ 202010010909ÔºåÊâÄ‰ª•ÂÆÉÁöÑ counter ÂÄº‰∏∫ 255ÔºåËÄåÁ¨¨‰∫å‰∏™Êï∞ÊçÆ B ÁöÑÁ¥ØËÆ°ËÆøÈóÆÊ¨°Êï∞ÊòØ 1024ÔºåËÆøÈóÆÊó∂Èó¥Êà≥ÊòØ 202010010810„ÄÇÂ¶ÇÊûú counter ÂÄºÂè™ËÉΩËÆ∞ÂΩïÂà∞ 255ÔºåÈÇ£‰πàÊï∞ÊçÆ B ÁöÑ counter ÂÄº‰πüÊòØ 255„ÄÇÊ≠§Êó∂ÔºåÁºìÂ≠òÂÜôÊª°‰∫ÜÔºåRedis ‰ΩøÁî® LFU Á≠ñÁï•ËøõË°åÊ∑òÊ±∞„ÄÇÊï∞ÊçÆ A Âíå B ÁöÑ counter ÂÄºÈÉΩÊòØ 255ÔºåLFU Á≠ñÁï•ÂÜçÊØîËæÉ A Âíå B ÁöÑËÆøÈóÆÊó∂Èó¥Êà≥ÔºåÂèëÁé∞Êï∞ÊçÆ B ÁöÑ‰∏ä‰∏ÄÊ¨°ËÆøÈóÆÊó∂Èó¥Êó©‰∫é AÔºåÂ∞±‰ºöÊää B Ê∑òÊ±∞Êéâ„ÄÇ‰ΩÜÂÖ∂ÂÆûÊï∞ÊçÆ B ÁöÑËÆøÈóÆÊ¨°Êï∞ËøúÂ§ß‰∫éÊï∞ÊçÆ AÔºåÂæàÂèØËÉΩ‰ºöË¢´ÂÜçÊ¨°ËÆøÈóÆ„ÄÇËøôÊ†∑‰∏ÄÊù•Ôºå‰ΩøÁî® LFU Á≠ñÁï•Êù•Ê∑òÊ±∞Êï∞ÊçÆÂ∞±‰∏çÂêàÈÄÇ‰∫Ü„ÄÇ</p>
<p>Âõ†Ê≠§Ôºå<strong>Âú®ÂÆûÁé∞ LFU Á≠ñÁï•Êó∂ÔºåRedis Âπ∂Ê≤°ÊúâÈááÁî®Êï∞ÊçÆÊØèË¢´ËÆøÈóÆ‰∏ÄÊ¨°ÔºåÂ∞±ÁªôÂØπÂ∫îÁöÑ counter ÂÄºÂä† 1 ÁöÑËÆ°Êï∞ËßÑÂàôÔºåËÄåÊòØÈááÁî®‰∫Ü‰∏Ä‰∏™Êõ¥‰ºòÂåñÁöÑËÆ°Êï∞ËßÑÂàô„ÄÇ</strong></p>
<p>ÁÆÄÂçïÊù•ËØ¥ÔºåLFU Á≠ñÁï•ÂÆûÁé∞ÁöÑËÆ°Êï∞ËßÑÂàôÊòØÔºöÊØèÂΩìÊï∞ÊçÆË¢´ËÆøÈóÆ‰∏ÄÊ¨°Êó∂ÔºåÈ¶ñÂÖàÔºåÁî®ËÆ°Êï∞Âô®ÂΩìÂâçÁöÑÂÄº‰πò‰ª•ÈÖçÁΩÆÈ°π lfu_log_factor ÂÜçÂä† 1ÔºåÂÜçÂèñÂÖ∂ÂÄíÊï∞ÔºåÂæóÂà∞‰∏Ä‰∏™ p ÂÄºÔºõÁÑ∂ÂêéÔºåÊääËøô‰∏™ p ÂÄºÂíå‰∏Ä‰∏™ÂèñÂÄºËåÉÂõ¥Âú®Ôºà0Ôºå1ÔºâÈó¥ÁöÑÈöèÊú∫Êï∞ r ÂÄºÊØîÂ§ßÂ∞èÔºåÂè™Êúâ p ÂÄºÂ§ß‰∫é r ÂÄºÊó∂ÔºåËÆ°Êï∞Âô®ÊâçÂä† 1„ÄÇ</p>
<p>‰ΩøÁî®‰∫ÜËøôÁßçËÆ°ÁÆóËßÑÂàôÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ‰∏çÂêåÁöÑ lfu_log_factor ÈÖçÁΩÆÈ°πÔºåÊù•ÊéßÂà∂ËÆ°Êï∞Âô®ÂÄºÂ¢ûÂä†ÁöÑÈÄüÂ∫¶ÔºåÈÅøÂÖç counter ÂÄºÂæàÂø´Â∞±Âà∞ 255 ‰∫Ü„ÄÇ</p>
<img src="https://static001.geekbang.org/resource/image/8e/3e/8eafa57112b01ba0yyf93034ca109f3e.jpg" alt="img" style="zoom:25%;" />

<p><strong>Ê≠£ÊòØÂõ†‰∏∫‰ΩøÁî®‰∫ÜÈùûÁ∫øÊÄßÈÄíÂ¢ûÁöÑËÆ°Êï∞Âô®ÊñπÊ≥ïÔºåÂç≥‰ΩøÁºìÂ≠òÊï∞ÊçÆÁöÑËÆøÈóÆÊ¨°Êï∞ÊàêÂçÉ‰∏ä‰∏áÔºåLFU Á≠ñÁï•‰πüÂèØ‰ª•ÊúâÊïàÂú∞Âå∫ÂàÜ‰∏çÂêåÁöÑËÆøÈóÆÊ¨°Êï∞Ôºå‰ªéËÄåËøõË°åÂêàÁêÜÁöÑÊï∞ÊçÆÁ≠õÈÄâ„ÄÇ‰ªéÂàöÊâçÁöÑË°®‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩì lfu_log_factor ÂèñÂÄº‰∏∫ 10 Êó∂ÔºåÁôæ„ÄÅÂçÉ„ÄÅÂçÅ‰∏áÁ∫ßÂà´ÁöÑËÆøÈóÆÊ¨°Êï∞ÂØπÂ∫îÁöÑ counter ÂÄºÂ∑≤ÁªèÊúâÊòéÊòæÁöÑÂå∫ÂàÜ‰∫ÜÔºåÊâÄ‰ª•ÔºåÊàë‰ª¨Âú®Â∫îÁî® LFU Á≠ñÁï•Êó∂Ôºå‰∏ÄËà¨ÂèØ‰ª•Â∞Ü lfu_log_factor ÂèñÂÄº‰∏∫ 10„ÄÇ</strong></p>
<p>Â∫îÁî®Ë¥üËΩΩÁöÑÊÉÖÂÜµÊòØÂæàÂ§çÊùÇÁöÑ„ÄÇÂú®‰∏Ä‰∫õÂú∫ÊôØ‰∏ãÔºåÊúâ‰∫õÊï∞ÊçÆÂú®Áü≠Êó∂Èó¥ÂÜÖË¢´Â§ßÈáèËÆøÈóÆÂêéÂ∞±‰∏ç‰ºöÂÜçË¢´ËÆøÈóÆ‰∫Ü„ÄÇÈÇ£‰πàÂÜçÊåâÁÖßËÆøÈóÆÊ¨°Êï∞Êù•Á≠õÈÄâÁöÑËØùÔºåËøô‰∫õÊï∞ÊçÆ‰ºöË¢´ÁïôÂ≠òÂú®ÁºìÂ≠ò‰∏≠Ôºå‰ΩÜ‰∏ç‰ºöÊèêÂçáÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ‰∏∫Ê≠§ÔºåRedis Âú®ÂÆûÁé∞ LFU Á≠ñÁï•Êó∂ÔºåËøòËÆæËÆ°‰∫Ü‰∏Ä‰∏™ counter ÂÄºÁöÑË°∞ÂáèÊú∫Âà∂„ÄÇ</p>
<p>ÁÆÄÂçïÊù•ËØ¥Ôºå<strong>LFU Á≠ñÁï•‰ΩøÁî®Ë°∞ÂáèÂõ†Â≠êÈÖçÁΩÆÈ°π lfu_decay_time Êù•ÊéßÂà∂ËÆøÈóÆÊ¨°Êï∞ÁöÑË°∞Âáè</strong>„ÄÇLFU Á≠ñÁï•‰ºöËÆ°ÁÆóÂΩìÂâçÊó∂Èó¥ÂíåÊï∞ÊçÆÊúÄËøë‰∏ÄÊ¨°ËÆøÈóÆÊó∂Èó¥ÁöÑÂ∑ÆÂÄºÔºåÂπ∂ÊääËøô‰∏™Â∑ÆÂÄºÊç¢ÁÆóÊàê‰ª•ÂàÜÈíü‰∏∫Âçï‰Ωç„ÄÇÁÑ∂ÂêéÔºåLFU Á≠ñÁï•ÂÜçÊääËøô‰∏™Â∑ÆÂÄºÈô§‰ª• lfu_decay_time ÂÄºÔºåÊâÄÂæóÁöÑÁªìÊûúÂ∞±ÊòØÊï∞ÊçÆ counter Ë¶ÅË°∞ÂáèÁöÑÂÄº„ÄÇ</p>
<h2 id="ÈóÆÈ¢ò-3"><a href="#ÈóÆÈ¢ò-3" class="headerlink" title="ÈóÆÈ¢ò"></a>ÈóÆÈ¢ò</h2><p><strong>‰ΩøÁî®‰∫Ü LFU Á≠ñÁï•ÂêéÔºå‰Ω†ËßâÂæóÁºìÂ≠òËøò‰ºöË¢´Ê±°ÊüìÂêóÔºü</strong></p>
<p>Ë¢´Ê±°ÊüìÁöÑÊ¶ÇÁéáÂèñÂÜ≥‰∫éLFUÁöÑÈÖçÁΩÆÔºå‰πüÂ∞±ÊòØlfu-log-factorÂíålfu-decay-timeÂèÇÊï∞„ÄÇ</p>
<p>1„ÄÅÊ†πÊçÆLRU counterËÆ°Êï∞ËßÑÂàôÂèØ‰ª•ÂæóÂá∫ÔºåcounterÈÄíÂ¢ûÁöÑÊ¶ÇÁéáÂèñÂÜ≥‰∫é2‰∏™Âõ†Á¥†Ôºö</p>
<p>a) counterÂÄºË∂äÂ§ßÔºåÈÄíÂ¢ûÊ¶ÇÁéáË∂ä‰Ωé<br>b) lfu-log-factorËÆæÁΩÆË∂äÂ§ßÔºåÈÄíÂ¢ûÊ¶ÇÁéáË∂ä‰Ωé</p>
<p>ÊâÄ‰ª•ÂΩìËÆøÈóÆÊ¨°Êï∞counterË∂äÊù•Ë∂äÂ§ßÊó∂ÔºåÊàñËÄÖlfu-log-factorÂèÇÊï∞ÈÖçÁΩÆËøáÂ§ßÊó∂ÔºåcounterÈÄíÂ¢ûÁöÑÊ¶ÇÁéáÈÉΩ‰ºöË∂äÊù•Ë∂ä‰ΩéÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂèØËÉΩ‰ºöÂØºËá¥‰∏Ä‰∫õkeyËôΩÁÑ∂ËÆøÈóÆÊ¨°Êï∞ËæÉÈ´òÔºå‰ΩÜÊòØcounterÂÄºÂç¥ÈÄíÂ¢ûÂõ∞ÈöæÔºåËøõËÄåÂØºËá¥Ëøô‰∫õËÆøÈóÆÈ¢ëÊ¨°ËæÉÈ´òÁöÑkeyÂç¥‰ºòÂÖàË¢´Ê∑òÊ±∞Êéâ‰∫Ü„ÄÇ</p>
<p>Âè¶Â§ñÁî±‰∫écounterÂú®ÈÄíÂ¢ûÊó∂ÔºåÊúâÈöèÊú∫Êï∞ÊØîËæÉÁöÑÈÄªËæëÔºåËøô‰πü‰ºöÂ≠òÂú®‰∏ÄÂÆöÊ¶ÇÁéáÂØºËá¥ËÆøÈóÆÈ¢ëÊ¨°‰ΩéÁöÑkeyÁöÑcounterÂèçËÄåÂ§ß‰∫éËÆøÈóÆÈ¢ëÊ¨°È´òÁöÑkeyÁöÑcounterÊÉÖÂÜµÂá∫Áé∞„ÄÇ</p>
<p>2„ÄÅÂ¶ÇÊûúlfu-decay-timeÈÖçÁΩÆËøáÂ§ßÔºåÂàôcounterË°∞Âáè‰ºöÂèòÊÖ¢Ôºå‰πü‰ºöÂØºËá¥Êï∞ÊçÆÊ∑òÊ±∞ÂèëÁîüÊé®ËøüÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>3„ÄÅÂè¶Â§ñÔºåÁî±‰∫éLRUÁöÑldtÂ≠óÊÆµÂè™ÈááÁî®‰∫Ü16‰ΩçÂ≠òÂÇ®ÔºåÂÖ∂Á≤æÂ∫¶ÊòØÂàÜÈíüÁ∫ßÂà´ÁöÑÔºåÂú®counterË°∞ÂáèÊó∂ÂèØËÉΩ‰ºö‰∫ßÁîüÂêå‰∏ÄÂàÜÈíüÂÜÖÔºåÂêéËÆøÈóÆÁöÑkeyÊØîÂÖàËÆøÈóÆÁöÑkeyÁöÑcounterÂÄº‰ºòÂÖàË°∞ÂáèÔºåËøõËÄåÂÖàË¢´Ê∑òÊ±∞ÊéâÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>ÂèØËßÅÔºåRedisÂÆûÁé∞ÁöÑLFUÁ≠ñÁï•Ôºå‰πüÊòØËøë‰ººÁöÑLFUÁÆóÊ≥ï„ÄÇRedisÂú®ÂÆûÁé∞Êó∂ÔºåÊùÉË°°‰∫ÜÂÜÖÂ≠ò‰ΩøÁî®„ÄÅÊÄßËÉΩÂºÄÈîÄ„ÄÅLFUÁöÑÊ≠£Á°ÆÊÄßÔºåÈÄöËøáÂ§çÁî®Âπ∂ÊãÜÂàÜlruÂ≠óÊÆµÁöÑÊñπÂºèÔºåÈÖçÂêàÁÆóÊ≥ïÁ≠ñÁï•Êù•ÂÆûÁé∞Ëøë‰ººÁöÑÁªìÊûúÔºåËôΩÁÑ∂‰ºöÊúâ‰∏ÄÂÆöÊ¶ÇÁéáÁöÑÂÅèÂ∑ÆÔºå‰ΩÜÂú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøôÁßçÂú∫ÊôØ‰∏ãÔºåÂ∑≤ÁªèÂÅöÂæóË∂≥Â§üÂ•Ω‰∫Ü„ÄÇ</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/07/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E4%B8%93%E9%A2%98/" rel="prev" title="ÊéíÂ∫è">
                ÊéíÂ∫è <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            ÊñáÁ´†ÁõÆÂΩï
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Á´ôÁÇπÊ¶ÇËßà
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/header.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%20%20%20%20%20%20%20%20%20/%E5%BD%92%E6%A1%A3">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">Êó•Âøó</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">ÂàÜÁ±ª</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">Ê†áÁ≠æ</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%97%81%E8%B7%AF%E7%BC%93%E5%AD%98%EF%BC%9ARedis%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-text">ÊóÅË∑ØÁºìÂ≠òÔºöRedisÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E7%9A%84%E7%89%B9%E5%BE%81"><span class="nav-text">ÁºìÂ≠òÁöÑÁâπÂæÅ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E7%BC%93%E5%AD%98%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5"><span class="nav-text">Redis ÁºìÂ≠òÂ§ÑÁêÜËØ∑Ê±ÇÁöÑ‰∏§ÁßçÊÉÖÂÜµ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E4%BD%9C%E4%B8%BA%E6%97%81%E8%B7%AF%E7%BC%93%E5%AD%98%E7%9A%84%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-text">Redis ‰Ωú‰∏∫ÊóÅË∑ØÁºìÂ≠òÁöÑ‰ΩøÁî®Êìç‰Ωú</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">ÁºìÂ≠òÁöÑÁ±ªÂûã</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E8%AF%BB%E7%BC%93%E5%AD%98"><span class="nav-text">Âè™ËØªÁºìÂ≠ò</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E7%BC%93%E5%AD%98"><span class="nav-text">ËØªÂÜôÁºìÂ≠ò</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="nav-text">ÈóÆÈ¢òÔºö</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E7%AD%96%E7%95%A5%EF%BC%9A%E7%BC%93%E5%AD%98%E6%BB%A1%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F"><span class="nav-text">ÊõøÊç¢Á≠ñÁï•ÔºöÁºìÂ≠òÊª°‰∫ÜÊÄé‰πàÂäûÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%A4%9A%E5%A4%A7%E7%9A%84%E7%BC%93%E5%AD%98%E5%AE%B9%E9%87%8F%E5%90%88%E9%80%82%EF%BC%9F"><span class="nav-text">ËÆæÁΩÆÂ§öÂ§ßÁöÑÁºìÂ≠òÂÆπÈáèÂêàÈÄÇÔºü</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis-%E7%BC%93%E5%AD%98%E6%9C%89%E5%93%AA%E4%BA%9B%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%EF%BC%9F"><span class="nav-text">Redis ÁºìÂ≠òÊúâÂì™‰∫õÊ∑òÊ±∞Á≠ñÁï•Ôºü</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E8%A2%AB%E6%B7%98%E6%B1%B0%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="nav-text">Â¶Ç‰ΩïÂ§ÑÁêÜË¢´Ê∑òÊ±∞ÁöÑÊï∞ÊçÆÔºü</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-text">ÈóÆÈ¢ò</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E5%BC%82%E5%B8%B8%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-text">ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏äÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%94%9F%E7%9A%84%EF%BC%9F"><span class="nav-text">ÁºìÂ≠òÂíåÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊòØÂ¶Ç‰ΩïÂèëÁîüÁöÑÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E8%AF%BB%E7%BC%93%E5%AD%98-1"><span class="nav-text">Âè™ËØªÁºìÂ≠ò</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%95%B0%E6%8D%AE%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-text">Â¶Ç‰ΩïËß£ÂÜ≥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E4%B8%80%EF%BC%9A%E5%85%88%E5%88%A0%E9%99%A4%E7%BC%93%E5%AD%98%EF%BC%8C%E5%86%8D%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%82"><span class="nav-text">ÊÉÖÂÜµ‰∏ÄÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%83%85%E5%86%B5%E4%BA%8C%EF%BC%9A%E5%85%88%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%80%BC%EF%BC%8C%E5%86%8D%E5%88%A0%E9%99%A4%E7%BC%93%E5%AD%98%E5%80%BC%E3%80%82"><span class="nav-text">ÊÉÖÂÜµ‰∫åÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂÄºÔºåÂÜçÂà†Èô§ÁºìÂ≠òÂÄº„ÄÇ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">ÊÄªÁªì</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-1"><span class="nav-text">ÈóÆÈ¢ò</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E5%BC%82%E5%B8%B8%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%E3%80%81%E5%87%BB%E7%A9%BF%E3%80%81%E7%A9%BF%E9%80%8F%E9%9A%BE%E9%A2%98%EF%BC%9F"><span class="nav-text">ÁºìÂ≠òÂºÇÂ∏∏Ôºà‰∏ãÔºâÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÈõ™Â¥©„ÄÅÂáªÁ©ø„ÄÅÁ©øÈÄèÈöæÈ¢òÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9"><span class="nav-text">ÁºìÂ≠òÈõ™Â¥©</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF"><span class="nav-text">ÁºìÂ≠òÂáªÁ©ø</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F"><span class="nav-text">ÁºìÂ≠òÁ©øÈÄè</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-1"><span class="nav-text">ÊÄªÁªì</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-2"><span class="nav-text">ÈóÆÈ¢ò</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E8%A2%AB%E6%B1%A1%E6%9F%93%E4%BA%86%EF%BC%8C%E8%AF%A5%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F"><span class="nav-text">ÁºìÂ≠òË¢´Ê±°Êüì‰∫ÜÔºåËØ•ÊÄé‰πàÂäûÔºü</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E6%B1%A1%E6%9F%93%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-text">Â¶Ç‰ΩïËß£ÂÜ≥ÁºìÂ≠òÊ±°ÊüìÈóÆÈ¢òÔºü</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LRU-%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5"><span class="nav-text">LRU ÁºìÂ≠òÁ≠ñÁï•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LFU-%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5%E7%9A%84%E4%BC%98%E5%8C%96"><span class="nav-text">LFU ÁºìÂ≠òÁ≠ñÁï•ÁöÑ‰ºòÂåñ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98-3"><span class="nav-text">ÈóÆÈ¢ò</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ëã±‰º¶82Âπ¥Èõ™Á¢ß</span>

  
</div>


  <div class="powered-by">Áî± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> Âº∫ÂäõÈ©±Âä®</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">‰∏ªÈ¢ò &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    Êú¨Á´ôÊÄªËÆøÈóÆÈáè <span id="busuanzi_value_site_pv"></span> Ê¨°
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    Êúâ<span id="busuanzi_value_site_uv"></span>‰∫∫ÁúãËøáÊàëÁöÑÂçöÂÆ¢Âï¶
</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
